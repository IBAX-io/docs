<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-topics/vm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Compilateur et Machine Virtuelle | IBAX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibax-io.github.io/docs/fr/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibax-io.github.io/docs/fr/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibax-io.github.io/docs/fr/topics/vm"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Compilateur et Machine Virtuelle | IBAX"><meta data-rh="true" name="description" content="compiler-and-virtual-machine}"><meta data-rh="true" property="og:description" content="compiler-and-virtual-machine}"><link data-rh="true" rel="icon" href="/docs/fr/img/ibax.ico"><link data-rh="true" rel="canonical" href="https://ibax-io.github.io/docs/fr/topics/vm"><link data-rh="true" rel="alternate" href="https://ibax-io.github.io/docs/topics/vm" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibax-io.github.io/docs/fr/topics/vm" hreflang="fr"><link data-rh="true" rel="alternate" href="https://ibax-io.github.io/docs/tr/topics/vm" hreflang="tr"><link data-rh="true" rel="alternate" href="https://ibax-io.github.io/docs/topics/vm" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QT93GL41QG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="IBAX" href="/docs/fr/opensearch.xml"><link rel="stylesheet" href="/docs/fr/assets/css/styles.901e2faf.css">
<script src="/docs/fr/assets/js/runtime~main.a30e02d8.js" defer="defer"></script>
<script src="/docs/fr/assets/js/main.5c44f6e9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/fr/"><div class="navbar__logo"><img src="/docs/fr/img/ibax.png" alt="IBAX Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/fr/img/ibax.png" alt="IBAX Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IBAX Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/fr/concepts/about-the-platform">Concept</a><a class="navbar__item navbar__link" href="/docs/fr/tutorials/app_tutorial">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/fr/topics/daemons">Guide</a><a class="navbar__item navbar__link" href="/docs/fr/reference/api2">Reference</a><a class="navbar__item navbar__link" href="/docs/fr/howtos/deployment">Deployment</a><a class="navbar__item navbar__link" href="/docs/fr/needle/intro">Needle</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/topics/vm" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/topics/vm" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/docs/tr/topics/vm" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/ibax-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/IBAX-io/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fr/topics/daemons">Démon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fr/topics/script">Contrats intelligents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fr/topics/templates2">Langage de modèle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/fr/topics/vm">Compilateur et Machine Virtuelle</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Compilateur et Machine Virtuelle</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Compilateur et Machine Virtuelle</h1>
<p>Cette section concerne la compilation du programme et les opérations du langage
Needle dans la machine virtuelle (VM).</p>
<div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#source-code-storage-and-compilation">Stockage et compilation du code source</a></li><li><a href="#virtual-machine-structures">Structures de machines virtuelles</a><ul><li><a href="#vm-structure">Structure VM</a></li><li><a href="#block-structure">Structure de bloc</a></li><li><a href="#objinfo-structure">Structure ObjInfo</a></li></ul></li><li><a href="#virtual-machine-commands">Commandes de machine virtuelle</a><ul><li><a href="#bytecode-structure">Structure du ByteCode</a></li><li><a href="#command-identifiers">Identifiants de commande</a></li><li><a href="#stack-operation-commands">Commandes d&#39;opérations de pile</a></li><li><a href="#runtime-structure">Structure de Runtime</a></li><li><a href="#runcode-function">Fonction RunCode</a></li><li><a href="#other-functions-for-operations-with-vm">Autres fonctions pour les opérations avec la VM</a></li></ul></li><li><a href="#compiler">Compilateur</a></li><li><a href="#lexical-analyzer">Analyseur lexical</a><ul><li><a href="#lextable-lextable-go">lextable/lextable.go</a></li><li><a href="#lex-go">lex-go</a></li></ul></li><li><a href="#needle-language">Langage Needle</a><ul><li><a href="#lexemes">Lexemes</a></li><li><a href="#types">Types</a></li><li><a href="#expressions">Expressions</a></li><li><a href="#scope">Portée</a></li><li><a href="#contract-execution">Exécution de contrat intelligent</a></li><li><a href="#backus-naur-form-bnf">Forme de Backus-Naur (BNF)</a></li></ul></li></ul></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="source-code-storage-and-compilation">Stockage et compilation du code source<a href="#source-code-storage-and-compilation" class="hash-link" aria-label="Direct link to Stockage et compilation du code source" title="Direct link to Stockage et compilation du code source">​</a></h2>
<p>Les contrats intelligents et les fonctions sont écrits en Golang et stockés dans
les tables de contrat des écosystèmes.</p>
<p>Lorsqu&#x27;un contrat est exécuté, son code source est lu depuis la base de données
et compilé en bytecode.</p>
<p>Lorsqu&#x27;un contrat est modifié, son code source est mis à jour et enregistré dans
la base de données. Ensuite, le code source est compilé, mettant à jour le
bytecode dans la machine virtuelle correspondante.</p>
<p>Comme les bytecodes ne sont pas physiquement enregistrés, ils seront compilés à
nouveau lorsque le programme sera exécuté à nouveau.</p>
<p>L&#x27;ensemble du code source décrit dans la table de contrat de chaque écosystème
est compilé dans une machine virtuelle dans un ordre strict, et l&#x27;état de la
machine virtuelle est le même sur tous les nœuds.</p>
<p>Lorsque le contrat est appelé, la machine virtuelle ne change pas son état de
quelque manière que ce soit. L&#x27;exécution de tout contrat ou l&#x27;appel de toute
fonction se produit sur une pile d&#x27;exécution distincte créée lors de chaque
appel externe.</p>
<p>Chaque écosystème peut avoir un écosystème virtuel, qui peut être utilisé à
l&#x27;intérieur d&#x27;un nœud en conjonction avec des tables en dehors de la blockchain,
sans affecter directement la blockchain ou d&#x27;autres écosystèmes virtuels. Dans
ce cas, le nœud hébergeant un tel écosystème virtuel compilera son contrat et
créera sa propre machine virtuelle.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-machine-structures">Structures de machines virtuelles<a href="#virtual-machine-structures" class="hash-link" aria-label="Direct link to Structures de machines virtuelles" title="Direct link to Structures de machines virtuelles">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-structure">Structure VM<a href="#vm-structure" class="hash-link" aria-label="Direct link to Structure VM" title="Direct link to Structure VM">​</a></h3>
<p>Une machine virtuelle est organisée en mémoire sous la forme d&#x27;une structure
comme ci-dessous.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type VM struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ExtCost func(string) int64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   FuncCallsDB map[string]struct{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Extern bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ShiftContract int64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   logger *log.Entry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Une structure de VM comprend les éléments suivants :</p>
<ul>
<li>Block - contient une <a href="#block-structure">structure de bloc</a>;</li>
<li>ExtCost - une fonction qui retourne le coût d&#x27;exécution d&#x27;une fonction externe
en Golang;</li>
<li>FuncCallsDB - une collection de noms de fonctions en Golang. Cette fonction
retourne le coût d&#x27;exécution en tant que premier paramètre. Ces fonctions
utilisent EXPLAIN pour calculer le coût du traitement de la base de données;</li>
<li>Extern - un indicateur booléen indiquant si un contrat est un contrat externe.
Il est défini sur true lorsqu&#x27;une VM est créée. Les contrats appelés ne sont
pas affichés lors de la compilation du code. En d&#x27;autres termes, cela permet
d&#x27;appeler le code de contrat déterminé ultérieurement;</li>
<li>ShiftContract - ID du premier contrat dans la VM;</li>
<li>logger - sortie du journal d&#x27;erreurs de la VM.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="block-structure">Structure de bloc<a href="#block-structure" class="hash-link" aria-label="Direct link to Structure de bloc" title="Direct link to Structure de bloc">​</a></h3>
<p>A virtual machine is a tree composed of <strong>Block type</strong> objects.</p>
<p>A block is an independent unit that contains some bytecodes. In simple terms,
everything you put in the braces (<code>{}</code>) in the language is a block.</p>
<p>For example, the following code would create a block with functions. This block
also contains another block with an if statement, which contains a block with a
while statement.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">func my() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if true {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      while false {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The block is organized in the memory as a structure like below.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type Block struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Objects map[string]*ObjInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Type int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Owner *OwnerInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Info interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Parent *Block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Vars []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Code ByteCodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Children Blocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Une structure de bloc se compose des éléments suivants :</p>
<ul>
<li><strong>Objects</strong> - une carte d&#x27;objets internes de type pointeur
<a href="#objinfo-structure">ObjInfo</a>. Par exemple, s&#x27;il y a une variable dans le
bloc, vous pouvez obtenir des informations à son sujet par son nom ;</li>
<li><strong>Type</strong> - le type du bloc. Pour un bloc de fonction, son type est <strong>ObjFunc</strong>
; pour un bloc de contrat, son type est <strong>ObjContract</strong> ;</li>
<li><strong>Owner</strong> - une structure de type pointeur <strong>OwnerInfo</strong>. Cette structure
contient des informations sur le propriétaire du contrat compilé, qui est
spécifié lors de la compilation du contrat ou obtenu à partir de la table
<strong>contracts</strong> ;</li>
<li><strong>Info</strong> - il contient des informations sur l&#x27;objet, qui dépend du type de
bloc ;</li>
<li><strong>Parent</strong> - un pointeur vers le bloc parent ;</li>
<li><strong>Vars</strong> - un tableau contenant les types des variables du bloc actuel ;</li>
<li><strong>Code</strong> - le bytecode du bloc lui-même, qui sera exécuté lorsque les droits
de contrôle sont transmis au bloc, par exemple, les appels de fonction ou les
corps de boucle ;</li>
<li><strong>Children</strong> - un tableau contenant des sous-blocs, tels que des fonctions
imbriquées, des boucles, des opérateurs conditionnels.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="objinfo-structure">Structure ObjInfo<a href="#objinfo-structure" class="hash-link" aria-label="Direct link to Structure ObjInfo" title="Direct link to Structure ObjInfo">​</a></h3>
<p>La structure ObjInfo contient des informations sur les objets internes.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type ObjInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Type int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Value interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure ObjInfo a les éléments suivants:</p>
<ul>
<li><strong>Type</strong> est le type d&#x27;objet, qui peut avoir l&#x27;une des valeurs suivantes :<!-- -->
<ul>
<li><strong>ObjContract</strong> - <a href="#contractinfo-structure">contrat</a> ;</li>
<li><strong>ObjFunc</strong> - fonction ;</li>
<li><strong>ObjExtFunc</strong> - fonction externe golang ;</li>
<li><strong>ObjVar</strong> - variable ;</li>
<li><strong>ObjExtend</strong> - variable $name.</li>
</ul>
</li>
<li><strong>Value</strong> - il contient la structure de chaque type.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="contractinfo-structure">Structure ContractInfo<a href="#contractinfo-structure" class="hash-link" aria-label="Direct link to Structure ContractInfo" title="Direct link to Structure ContractInfo">​</a></h4>
<p>Pointant vers le type <strong>ObjContract</strong>, et le champ <strong>Value</strong> contient une
structure <strong>ContractInfo</strong>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type ContractInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ID uint32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Name string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Owner *OwnerInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Used map[string]bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Tx *[]*FieldInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure ContractInfo comprend les éléments suivants :</p>
<ul>
<li><strong>ID</strong> - ID du contrat, affiché dans la blockchain lors de l&#x27;appel du contrat;</li>
<li><strong>Name</strong> - nom du contrat;</li>
<li><strong>Owner</strong> - autres informations sur le contrat;</li>
<li><strong>Used</strong> - carte des noms de contrats qui ont été appelés;</li>
<li><strong>Tx</strong> - un tableau de données décrit dans la section
<a href="/docs/fr/topics/script#data-section">data section</a> du contrat.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fieldinfo-structure">Structure FieldInfo<a href="#fieldinfo-structure" class="hash-link" aria-label="Direct link to Structure FieldInfo" title="Direct link to Structure FieldInfo">​</a></h4>
<p>La structure FieldInfo est utilisée dans la structure <strong>ContractInfo</strong> et décrit
les éléments dans <a href="/docs/fr/topics/script#data-section">data section</a> d&#x27;un contrat.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type FieldInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Name string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Type reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Original uint32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Tags string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure FieldInfo a les éléments suivants :</p>
<ul>
<li><strong>Name</strong> - nom du champ;</li>
<li><strong>Type</strong> - type de champ;</li>
<li><strong>Original</strong> - champ facultatif;</li>
<li><strong>Tags</strong> - étiquettes supplémentaires pour ce champ.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="funcinfo-structure">Structure FuncInfo<a href="#funcinfo-structure" class="hash-link" aria-label="Direct link to Structure FuncInfo" title="Direct link to Structure FuncInfo">​</a></h4>
<p>Pointant vers le type ObjFunc, et le champ Value contient une structure
FuncInfo.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type FuncInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Params []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Results []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Names *map[string]FuncName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Variadic bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ID uint32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure FuncInfo comprend les éléments suivants :</p>
<ul>
<li><strong>Params</strong> - un tableau de types de paramètres;</li>
<li><strong>Results</strong> - un tableau de types de retour;</li>
<li><strong>Names</strong> - une carte de données pour les fonctions de queue, par exemple,
<code>DBFind().Columns()</code>;</li>
<li><strong>Variadic</strong> - vrai si la fonction peut avoir un nombre variable de
paramètres;</li>
<li><strong>ID</strong> - ID de la fonction.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="funcname-structure">Structure NomFonction<a href="#funcname-structure" class="hash-link" aria-label="Direct link to Structure NomFonction" title="Direct link to Structure NomFonction">​</a></h4>
<p>La structure FuncName est utilisée pour FuncInfo et décrit les données d&#x27;une
fonction de queue.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type FuncName struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Params []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Offset []int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Variadic bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure FuncName a les éléments suivants :</p>
<ul>
<li><strong>Params</strong> - un tableau de types de paramètres;</li>
<li><strong>Offset</strong> - le tableau des décalages pour ces variables. En fait, les valeurs
de tous les paramètres dans une fonction peuvent être initialisées avec le
point .;</li>
<li><strong>Variadic</strong> - vrai si la fonction de queue peut avoir un nombre variable de
paramètres.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="extfuncinfo-structure">Structure ExtFuncInfo<a href="#extfuncinfo-structure" class="hash-link" aria-label="Direct link to Structure ExtFuncInfo" title="Direct link to Structure ExtFuncInfo">​</a></h4>
<p>Pointant vers le type ObjExtFunc, et le champ Value contient une structure
ExtFuncInfo. Il est utilisé pour décrire les fonctions golang.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type ExtFuncInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Name string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Params []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Results []reflect.Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Auto []string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Variadic bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Func interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure ExtFuncInfo comprend les éléments suivants :</p>
<ul>
<li><strong>Name</strong>, <strong>Params</strong>, <strong>Results</strong> les paramètres ont la même structure que
<a href="#funcinfo-structure">FuncInfo</a>;</li>
<li><strong>Auto</strong> - un tableau de variables. Si présent, il est transmis à la fonction
en tant que paramètre supplémentaire. Par exemple, une variable de type
SmartContract sc;</li>
<li><strong>Func</strong> - fonctions golang.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="varinfo-structure">Structure VarInfo<a href="#varinfo-structure" class="hash-link" aria-label="Direct link to Structure VarInfo" title="Direct link to Structure VarInfo">​</a></h4>
<p>En pointant vers le type <strong>ObjVar</strong>, et le champ <strong>Value</strong> contient une
structure <strong>VarInfo</strong>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type VarInfo struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Obj *ObjInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Owner *Block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure VarInfo a les éléments suivants :</p>
<ul>
<li><strong>Obj</strong> - informations sur le type et la valeur de la variable;</li>
<li><strong>Owner</strong> - Pointeur vers le bloc propriétaire.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="objextend-value">ObjExtend valeur<a href="#objextend-value" class="hash-link" aria-label="Direct link to ObjExtend valeur" title="Direct link to ObjExtend valeur">​</a></h4>
<p>En pointant vers le type <strong>ObjExtend</strong>, et le champ <strong>Value</strong> contient une
chaîne de caractères contenant le nom de la variable ou de la fonction.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-machine-commands">Commandes de machine virtuelle<a href="#virtual-machine-commands" class="hash-link" aria-label="Direct link to Commandes de machine virtuelle" title="Direct link to Commandes de machine virtuelle">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bytecode-structure">Structure du ByteCode<a href="#bytecode-structure" class="hash-link" aria-label="Direct link to Structure du ByteCode" title="Direct link to Structure du ByteCode">​</a></h3>
<p>Un bytecode est une séquence de structures de type <strong>ByteCode</strong>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type ByteCode struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Cmd uint16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Value interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Cette structure a les champs suivants:</p>
<ul>
<li><strong>Cmd</strong> - l&#x27;identifiant des commandes de stockage;</li>
<li><strong>Value</strong> - contient l&#x27;opérande (valeur).</li>
</ul>
<p>En général, les commandes effectuent une opération sur l&#x27;élément supérieur de la
pile et écrivent la valeur résultante si nécessaire.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="command-identifiers">Identifiants de commande<a href="#command-identifiers" class="hash-link" aria-label="Direct link to Identifiants de commande" title="Direct link to Identifiants de commande">​</a></h3>
<p>Les identifiants des commandes de la machine virtuelle sont décrits dans le
fichier vm/cmds_list.go.</p>
<ul>
<li><strong>cmdPush</strong> - mettre une valeur du champ <code>Value</code> dans la pile. Par exemple,
mettre des nombres et des lignes dans la pile;</li>
<li><strong>cmdVar</strong> - mettre la valeur d&#x27;une variable dans la pile. <code>Value</code> contient un
pointeur vers la structure <code>VarInfo</code> et des informations sur la variable;</li>
<li><strong>cmdExtend</strong> - mettre la valeur d&#x27;une variable externe dans la pile. <code>Value</code>
contient une chaîne de caractères avec le nom de la variable (commençant par
<code>$</code>);</li>
<li><strong>cmdCallExtend</strong> - appeler une fonction externe (commençant par <code>$</code>). Les
paramètres de la fonction sont obtenus à partir de la pile et les résultats
sont placés dans la pile. <code>Value</code> contient le nom de la fonction (commençant
par <code>$</code>);</li>
<li><strong>cmdPushStr</strong> - mettre la chaîne de caractères contenue dans <code>Value</code> dans la
pile;</li>
<li><strong>cmdCall</strong> - appelle la fonction de la machine virtuelle. <code>Value</code> contient
une structure <code>ObjInfo</code>. Cette commande s&#x27;applique à la fonction golang
<code>ObjExtFunc</code> et à la fonction Needle <code>ObjFunc</code>. Si une fonction est appelée,
ses paramètres sont obtenus à partir de la pile et les valeurs de résultat
sont placées dans la pile;</li>
<li><strong>cmdCallVari</strong> - similaire à la commande <strong>cmdCall</strong>, elle appelle la
fonction de la machine virtuelle. Cette commande est utilisée pour appeler une
fonction avec un nombre variable de paramètres;</li>
<li><strong>cmdReturn</strong> - utilisée pour sortir de la fonction. Les valeurs de retour
seront placées dans la pile et le champ <code>Value</code> n&#x27;est pas utilisé;</li>
<li><strong>cmdIf</strong> - transfère le contrôle vers le bytecode dans la structure <code>block</code>,
qui est transmis dans le champ <code>Value</code>. Le contrôle sera transféré dans la
pile uniquement lorsque l&#x27;élément supérieur de la pile est appelé par la
fonction <code>valueToBool</code> et retourne <code>true</code>. Sinon, le contrôle sera transféré à
la commande suivante;</li>
<li><strong>cmdElse</strong> - cette commande fonctionne de la même manière que <strong>cmdIf</strong>, mais
seulement lorsque l&#x27;élément supérieur de la pile est appelé par la fonction
<code>valueToBool</code> et retourne <code>false</code>, le contrôle sera transféré au bloc
spécifié;</li>
<li><strong>cmdAssignVar</strong> - obtenir une liste de variables de type <code>VarInfo</code> à partir
de <code>Value</code>. Ces variables utilisent la commande <strong>cmdAssign</strong> pour obtenir la
valeur;</li>
<li><strong>cmdAssign</strong> - assigner la valeur de la pile à la variable obtenue par la
commande <strong>cmdAssignVar</strong>;</li>
<li><strong>cmdLabel</strong> - définit une étiquette lorsque le contrôle est renvoyé pendant
la boucle while;</li>
<li><strong>cmdContinue</strong> - cette commande transfère le contrôle vers l&#x27;étiquette
<strong>cmdLabel</strong>. Lors de l&#x27;exécution d&#x27;une nouvelle itération de la boucle,
<code>Value</code> n&#x27;est pas utilisé;</li>
<li><strong>cmdWhile</strong> - utilise <code>valueToBool</code> pour vérifier l&#x27;élément supérieur de la
pile. Si cette valeur est <code>true</code>, la structure <code>block</code> sera appelée depuis le
champ <code>Value</code>;</li>
<li><strong>cmdBreak</strong> - quitte la boucle;</li>
<li><strong>cmdIndex</strong> - mettre la valeur de la map ou du tableau dans la pile par
index, sans utiliser <code>Value</code>. Par exemple,
<code>(map | tableau) (index valeur) =&gt; (map | tableau [index valeur])</code>;</li>
<li><strong>cmdSetIndex</strong> - assigne la valeur de l&#x27;élément supérieur de la pile aux
éléments de la map ou du tableau, sans utiliser <code>Value</code>. Par exemple,
<code>(map | tableau) (index valeur) (valeur) =&gt; (map | tableau)</code>;</li>
<li><strong>cmdFuncName</strong> - ajoute les paramètres qui sont passés en utilisant des
descriptions séquentielles divisées par un point <code>. Par exemple, </code>func name =&gt;
Func (...) .Name (...)`;</li>
<li><strong>cmdUnwrapArr</strong> - définit un indicateur booléen si l&#x27;élément supérieur de la
pile est un tableau;</li>
<li><strong>cmdMapInit</strong> - initialise la valeur de la map;</li>
<li><strong>cmdArrayInit</strong> - initialise la valeur du tableau;</li>
<li><strong>cmdError</strong> - cette commande est créée lorsque qu&#x27;un contrat ou une fonction
se termine avec une erreur, un avertissement ou une information spécifiée.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stack-operation-commands">Commandes d&#x27;opérations de pile<a href="#stack-operation-commands" class="hash-link" aria-label="Direct link to Commandes d&#x27;opérations de pile" title="Direct link to Commandes d&#x27;opérations de pile">​</a></h3>
<blockquote>
<p>Remarque</p>
</blockquote>
<blockquote>
<p>Dans la version actuelle, la conversion automatique de type n&#x27;est pas
entièrement applicable pour ces commandes. Par exemple,</p>
</blockquote>
<blockquote>
<p><code>string + float | int | decimal =&gt; float | int | decimal, float + int | str =&gt; float, mais int + string =&gt; erreur d&#x27;exécution</code>.</p>
</blockquote>
<p>Les commandes suivantes sont destinées au traitement direct de la pile. Le champ
Valeur n&#x27;est pas utilisé dans ces commandes.</p>
<ul>
<li><strong>cmdNot</strong> - logical negation. <code>(val) =&gt; (!ValueToBool(val))</code>;</li>
<li><strong>cmdSign</strong> - change of sign. <code>(val) =&gt; (-val)</code>;</li>
<li><strong>cmdAdd</strong> - addition. <code>(val1)(val2) =&gt; (val1 + val2)</code>;</li>
<li><strong>cmdSub</strong> - subtraction. <code>(val1)(val2) =&gt; (val1 - val2)</code>;</li>
<li><strong>cmdMul</strong> - multiplication. <code>(val1)(val2) =&gt; (val1 * val2)</code>;</li>
<li><strong>cmdDiv</strong> - division. <code>(val1)(val2) =&gt; (val1 / val2)</code>;</li>
<li><strong>cmdAnd</strong> - logical AND.
<code>(val1)(val2) =&gt; (valueToBool(val1) &amp;&amp; valueToBool(val2))</code>;</li>
<li><strong>cmdOr</strong> - logical OR.
<code>(val1)(val2) =&gt; (valueToBool(val1) || valueToBool(val2))</code>;</li>
<li><strong>cmdEqual</strong> - equality comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 == val2)</code>;</li>
<li><strong>cmdNotEq</strong> - inequality comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 != val2)</code>;</li>
<li><strong>cmdLess</strong> - less-than comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 &lt; val2)</code>;</li>
<li><strong>cmdNotLess</strong> - greater-than-or-equal comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 &gt;= val2)</code>;</li>
<li><strong>cmdGreat</strong> - greater-than comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 &gt; val2)</code>;</li>
<li><strong>cmdNotGreat</strong> - less-than-or-equal comparison, bool is returned.
<code>(val1)(val2) =&gt; (val1 &lt;= val2)</code>;</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-structure">Structure de Runtime<a href="#runtime-structure" class="hash-link" aria-label="Direct link to Structure de Runtime" title="Direct link to Structure de Runtime">​</a></h3>
<p>L&#x27;exécution des octets de code n&#x27;affectera pas la machine virtuelle. Par
exemple, cela permet à différentes fonctions et contrats de s&#x27;exécuter
simultanément dans une seule machine virtuelle. La structure Runtime est
utilisée pour exécuter des fonctions et des contrats, ainsi que des expressions
et des octets de code.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type RunTime struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   stack []interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   blocks []*blockStack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   vars []interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   extend *map[string]interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   vm *VM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   cost int64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   err error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>stack</strong> - la pile d&#x27;exécution du bytecode;</li>
<li><strong>blocks</strong> - la pile des appels de blocs;</li>
<li><strong>vars</strong> - la pile des variables. Ses variables seront ajoutées à la pile des
variables lors de l&#x27;appel du bytecode dans le bloc. Après la sortie du bloc,
la taille de la pile des variables reviendra à sa valeur précédente;</li>
<li><strong>extend</strong> - un pointeur vers une carte avec les valeurs des variables
externes (<code>$name</code>);</li>
<li><strong>vm</strong> - un pointeur vers la machine virtuelle;</li>
<li><strong>cost</strong> - l&#x27;unité de carburant du coût d&#x27;exécution résultant;</li>
<li><strong>err</strong> - une erreur s&#x27;est produite lors de l&#x27;exécution.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="blockstack-structure">structure de blockStack<a href="#blockstack-structure" class="hash-link" aria-label="Direct link to structure de blockStack" title="Direct link to structure de blockStack">​</a></h4>
<p>La structure blockStack est utilisée dans la structure Runtime.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type blockStack struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Block *Block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Offset int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Block</strong> - un pointeur vers le bloc en cours d&#x27;exécution;</li>
<li><strong>Offset</strong> - le décalage de la dernière commande exécutée dans le bytecode du
bloc spécifié.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runcode-function">Fonction RunCode<a href="#runcode-function" class="hash-link" aria-label="Direct link to Fonction RunCode" title="Direct link to Fonction RunCode">​</a></h3>
<p>Les octets de code sont exécutés dans la fonction <strong>RunCode</strong>. Elle contient une
boucle qui effectue l&#x27;opération correspondante pour chaque commande d&#x27;octet de
code. Avant de traiter un octet de code, les données requises doivent être
initialisées.</p>
<p>De nouveaux blocs sont ajoutés à d&#x27;autres blocs.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rt.blocks = append(rt.blocks, &amp;blockStack{block, len(rt.vars)})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ensuite, obtenez les informations des paramètres pertinents de la fonction
&quot;tail&quot;. Ces paramètres sont contenus dans le dernier élément de la pile.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var namemap map[string][]interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if block.Type == ObjFunc &amp;&amp; block.Info.(*FuncInfo).Names != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if rt.stack[len(rt.stack)-1] != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      namemap = rt.stack[len(rt.stack)-1].(map[string][]interface{})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rt.stack = rt.stack[:len(rt.stack)-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ensuite, toutes les variables définies dans le bloc actuel doivent être
initialisées avec leurs valeurs initiales.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start := len(rt.stack)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">varoff := len(rt.vars)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for vkey, vpar := range block.Vars {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rt.cost--</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   var value interface{}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Puisque les variables dans la fonction sont également des variables, nous devons
les récupérer à partir du dernier élément de la pile dans l&#x27;ordre décrit par la
fonction elle-même.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   if block.Type == ObjFunc &amp;&amp; vkey &lt;len(block.Info.(*FuncInfo).Params) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      value = rt.stack[start-len(block.Info.(*FuncInfo).Params)+vkey]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   } else {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Initialisez les variables locales avec leurs valeurs initiales.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      value = reflect.New(vpar).Elem().Interface()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if vpar == reflect.TypeOf(map[string]interface{}{}) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         value = make(map[string]interface{})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      } else if vpar == reflect.TypeOf([]interface{}{}) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         value = make([]interface{}, 0, len(rt.vars)+1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rt.vars = append(rt.vars, value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ensuite, mettez à jour les valeurs des paramètres variables passés dans la
fonction tail.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if namemap != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   for key, item := range namemap {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      params := (*block.Info.(*FuncInfo).Names)[key]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for i, value := range item {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if params.Variadic &amp;&amp; i &gt;= len(params.Params)-1 {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Si les paramètres de variable passés appartiennent à un nombre variable de
paramètres, alors ces paramètres seront combinés dans un tableau de variables.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            off := varoff + params.Offset[len(params.Params)-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rt.vars[off] = append(rt.vars[off].([]interface{}), value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rt.vars[varoff+params.Offset[i]] = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Après cela, tout ce que nous avons à faire est de supprimer les valeurs passées
depuis le sommet de la pile en tant que paramètres de fonction, déplaçant ainsi
la pile. Nous avons copié leurs valeurs dans un tableau de variables.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if block.Type == ObjFunc {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   start -= len(block.Info.(*FuncInfo).Params)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Lorsqu&#x27;une boucle de commande bytecode est terminée, nous devons vider
correctement la pile.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">last := rt.blocks[len(rt.blocks)-1]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Supprimer le bloc actuel de la pile de blocs.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rt.blocks = rt.blocks[:len(rt.blocks)-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if status == statusReturn {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Si la sortie de la fonction s&#x27;est effectuée avec succès, nous ajouterons la
valeur de retour à la fin de la pile précédente.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   if last.Block.Type == ObjFunc {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for count := len(last.Block.Info.(*FuncInfo).Results); count &gt; 0; count-- {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         rt.stack[start] = rt.stack[len(rt.stack)-count]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         start++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      status = statusNormal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   } else {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Comme vous pouvez le voir, si nous n&#x27;exécutons pas la fonction, alors nous ne
restaurerons pas l&#x27;état de la pile et sortirons de la fonction telle quelle. La
raison en est que les boucles et les structures conditionnelles qui ont été
exécutées dans la fonction sont également des blocs de code bytecode.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rt.stack = rt.stack[:start]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-functions-for-operations-with-vm">Autres fonctions pour les opérations avec la VM<a href="#other-functions-for-operations-with-vm" class="hash-link" aria-label="Direct link to Autres fonctions pour les opérations avec la VM" title="Direct link to Autres fonctions pour les opérations avec la VM">​</a></h3>
<p>Vous pouvez créer une machine virtuelle avec la fonction <strong>NewVM</strong>. Chaque
machine virtuelle sera ajoutée avec quatre fonctions, telles que
<strong>ExecContract</strong>, <strong>MemoryUsage</strong>, <strong>CallContract</strong> et <strong>Settings</strong>, grâce à la
fonction <strong>Extend</strong>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for key, item := range ext.Objects {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   fobj := reflect.ValueOf(item).Type()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous parcourons tous les objets passés et ne regardons que les fonctions.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   switch fobj.Kind() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   case reflect.Func:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous remplissons la structure <strong>ExtFuncInfo</strong> en fonction des informations
reçues sur la fonction, et ajoutons sa structure à la carte de niveau supérieur
<strong>Objects</strong> par nom.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   data := ExtFuncInfo{key, make([]reflect.Type, fobj.NumIn()), make([]reflect.Type, fobj.NumOut()),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   make([]string, fobj.NumIn()), fobj.IsVariadic(), item}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   for i := 0; i &lt;fobj.NumIn(); i++ {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La structure <strong>ExtFuncInfo</strong> a un tableau de paramètres <strong>Auto</strong>.
Habituellement, le premier paramètre est <code>sc *SmartContract</code> ou <code>rt *Runtime</code>,
nous ne pouvons pas les passer depuis le langage Needle, car ils sont
nécessaires pour exécuter certaines fonctions golang. Par conséquent, nous
spécifions que ces variables seront utilisées automatiquement lorsque ces
fonctions sont appelées. Dans ce cas, le premier paramètre des quatre fonctions
ci-dessus est <code>rt *Runtime</code>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   if isauto, ok := ext.AutoPars[fobj.In(i).String()]; ok {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      data.Auto[i] = isauto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Informations sur l&#x27;attribution des paramètres.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      data.Params[i] = fobj.In(i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Et les types de valeurs de retour.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for i := 0; i &lt;fobj.NumOut(); i++ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   data.Results[i] = fobj.Out(i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ajoute une fonction à la racine <strong>Objects</strong> afin que le compilateur puisse les
trouver ultérieurement lors de l&#x27;utilisation du contrat.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      vm.Objects[key] = &amp;ObjInfo{ObjExtFunc, data}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compiler">Compilateur<a href="#compiler" class="hash-link" aria-label="Direct link to Compilateur" title="Direct link to Compilateur">​</a></h2>
<p>Les fonctions dans le fichier compile.go sont responsables de la compilation du
tableau de jetons obtenus à partir de l&#x27;analyse lexicale. La compilation peut
être divisée en deux niveaux de manière conditionnelle. Au niveau supérieur,
nous traitons des fonctions, des contrats, des blocs de code, des déclarations
conditionnelles et de boucle, des définitions de variables, etc. Au niveau
inférieur, nous compilons les expressions dans les blocs de code ou les
conditions dans les boucles et les déclarations conditionnelles.</p>
<p>Tout d&#x27;abord, nous commencerons par le niveau inférieur simple. Dans la fonction
<strong>compileEval</strong>, les expressions peuvent être converties en bytecode. Étant
donné que nous utilisons une machine virtuelle avec une pile, il est nécessaire
de convertir les expressions d&#x27;enregistrement infixes ordinaires en notation
postfixe ou en notation polonaise inverse. Par exemple, nous convertissons <code>1+2</code>
en <code>12+</code> et plaçons <code>1</code> et <code>2</code> dans la pile. Ensuite, nous appliquons
l&#x27;opération d&#x27;addition aux deux derniers éléments de la pile et écrivons le
résultat dans la pile. Vous pouvez trouver cet algorithme de
<a href="https://master.virmandy.net/perevod-iz-infiksnoy-notatsii-v-postfiksnuyu-obratnaya-polskaya-zapis/" target="_blank" rel="noopener noreferrer">conversion</a>
sur Internet.</p>
<p>La variable globale <code>opers = map [uint32] operPrior</code> contient la priorité des
opérations nécessaires pour la conversion en notation polonaise inverse.</p>
<p>Les variables suivantes sont définies au début de la fonction <strong>compileEval</strong>:</p>
<ul>
<li><strong>buffer</strong> - tampon temporaire pour les commandes de bytecode ;</li>
<li><strong>bytecode</strong> - tampon final des commandes de bytecode ;</li>
<li><strong>parcount</strong> - tampon temporaire utilisé pour calculer les paramètres lors de
l&#x27;appel d&#x27;une fonction ;</li>
<li><strong>setIndex</strong> - les variables dans le processus de travail seront définies sur
true lorsque nous attribuons des éléments de carte ou de tableau. Par exemple,
<code>a[&quot;my&quot;] = 10</code>. Dans ce cas, nous devons utiliser la commande <strong>cmdSetIndex</strong>
spécifiée.</li>
</ul>
<p>Nous obtenons un jeton dans une boucle et le traitons en conséquence. Par
exemple, l&#x27;appariement des expressions s&#x27;arrêtera si des parenthèses sont
trouvées. Lors du déplacement de la chaîne, nous vérifions si l&#x27;instruction
précédente est une opération et si elle se trouve entre parenthèses, sinon elle
sortira de l&#x27;expression analysée.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">case isRCurly, isLCurly:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   i--</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if prevLex == isComma || prevLex == lexOper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return errEndExp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   break main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">case lexNewLine:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if i &gt; 0 &amp;&amp; ((*lexems)[i-1].Type == isComma || (*lexems)[i-1].Type == lexOper) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      continue main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   for k := len(buffer) - 1; k &gt;= 0; k-- {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if buffer[k].Cmd == cmdSys {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      continue main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">break main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>En général, l&#x27;algorithme lui-même correspond à un algorithme de conversion en
notation polonaise inverse. Avec la prise en compte de l&#x27;appel des contrats,
fonctions et index nécessaires, ainsi que d&#x27;autres éléments non rencontrés lors
de l&#x27;analyse syntaxique et des options pour l&#x27;analyse des jetons de type
lexIdent, alors les variables, fonctions ou contrats avec ce nom seront
vérifiés. Si rien n&#x27;est trouvé et que ce n&#x27;est pas un appel de fonction ou de
contrat, alors une erreur sera indiquée.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">objInfo, tobj := vm.findObj(lexem.Value.(string), block)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if objInfo == nil &amp;&amp; (!vm.Extern || i&gt; *ind || i &gt;= len(*lexems)-2 || (*lexems)[i+1].Type != isLPar) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return fmt.Errorf(`unknown identifier %s`, lexem.Value.(string))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous pourrions rencontrer une telle situation, et l&#x27;appel de contrat sera décrit
ultérieurement. Dans cet exemple, si aucune fonction ou variable avec le même
nom n&#x27;est trouvée, alors nous pensons qu&#x27;il est nécessaire d&#x27;appeler un contrat.
Dans ce langage compilé, il n&#x27;y a pas de différence entre les contrats et les
appels de fonction. Mais nous devons appeler le contrat à travers la fonction
<strong>ExecContract</strong> utilisée dans le bytecode.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if objInfo.Type == ObjContract {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if objInfo.Value != nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      objContract = objInfo.Value.(*Block)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   objInfo, tobj = vm.findObj(`ExecContract`, block)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   isContract = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous enregistrons le nombre de variables jusqu&#x27;à présent dans <code>count</code>, qui sera
également écrit dans la pile avec le nombre de paramètres de la fonction. À
chaque détection ultérieure de paramètres, nous devons simplement augmenter ce
nombre d&#x27;une unité sur le dernier élément de la pile.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">count := 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (*lexems)[i+2].Type != isRPar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   count++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nous avons une liste appelée &quot;Used&quot; de paramètres pour les contrats, puis nous
devons marquer le cas où le contrat est appelé. Si le contrat est appelé sans
paramètres, nous devons ajouter deux paramètres vides pour appeler
<strong>ExecContract</strong> et obtenir au moins deux paramètres.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if isContract {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name := StateName((*block)[0].Info.(uint32), lexem.Value.(string))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   for j := len(*block) - 1; j &gt;= 0; j-- {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   topblock := (*block)[j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if topblock.Type == ObjContract {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if topblock.Info.(*ContractInfo).Used == nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            topblock.Info.(*ContractInfo).Used = make(map[string]bool)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         topblock.Info.(*ContractInfo).Used[name] = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   bytecode = append(bytecode, &amp;ByteCode{cmdPush, name})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if count == 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      count = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      bytecode = append(bytecode, &amp;ByteCode{cmdPush, &quot;&quot;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      bytecode = append(bytecode, &amp;ByteCode{cmdPush, &quot;&quot;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   count++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Si nous voyons qu&#x27;il y a une parenthèse carrée à côté, alors nous ajoutons la
commande <strong>cmdIndex</strong> pour obtenir la valeur par l&#x27;index.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (*lexems)[i+1].Type == isLBrack {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if objInfo == nil || objInfo.Type != ObjVar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return fmt.Errorf(`unknown variable %s`, lexem.Value.(string))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   buffer = append(buffer, &amp;ByteCode{cmdIndex, 0})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La fonction <strong>CompileBlock</strong> peut générer des arbres d&#x27;objets et des octets de
code indépendants de l&#x27;expression. Le processus de compilation est basé sur une
machine à états finis, tout comme un analyseur lexical, mais avec les
différences suivantes. Premièrement, nous n&#x27;utilisons pas de symboles mais des
jetons ; deuxièmement, nous décrirons immédiatement les variables <em>states</em> dans
tous les états et transitions. Il représente un tableau d&#x27;objets indexés par
type de jeton. Chaque jeton a une structure de <em>compileState</em>, et un nouvel état
est spécifié dans <em>NewState</em>. Si la structure que nous avons résolue est claire,
nous pouvons spécifier la fonction du gestionnaire dans le champ <em>Func</em>.</p>
<p>Prenons l&#x27;état principal comme exemple.</p>
<p>Si nous rencontrons un saut de ligne ou un commentaire, nous resterons dans le
même état. Si nous rencontrons le mot-clé <strong>contract</strong>, alors nous changeons
l&#x27;état en <em>stateContract</em> et commençons à analyser la structure. Si nous
rencontrons le mot-clé <strong>func</strong>, alors nous changeons l&#x27;état en <em>stateFunc</em>. Si
d&#x27;autres jetons sont reçus, la fonction générant une erreur sera appelée.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{// stateRoot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexNewLine: {stateRoot, 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexKeyword | (keyContract &lt;&lt; 8): {stateContract | statePush, 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexKeyword | (keyFunc &lt;&lt; 8): {stateFunc | statePush, 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexComment: {stateRoot, 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0: {errUnknownCmd, cfError},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Supposons que nous rencontrions le mot-clé <strong>func</strong> et que nous ayons changé
l&#x27;état en <em>stateFunc</em>. Étant donné que le nom de la fonction doit suivre le
mot-clé <strong>func</strong>, nous conserverons le même état lors du changement du nom de la
fonction. Pour tous les autres jetons, nous générerons des erreurs
correspondantes. Si nous obtenons le nom de la fonction dans l&#x27;identificateur du
jeton, alors nous passons à l&#x27;état <em>stateFParams</em>, où nous pouvons obtenir les
paramètres de la fonction.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{// stateFunc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexNewLine: {stateFunc, 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   lexIdent: {stateFParams, cfNameBlock},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0: {errMustName, cfError},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>En même temps que les opérations ci-dessus, nous appellerons la fonction
<strong>fNameBlock</strong>. Il convient de noter que la structure Block est créée avec la
marque statePush, où nous l&#x27;obtenons à partir du tampon et la remplissons avec
les données dont nous avons besoin. La fonction <strong>fNameBlock</strong> convient aux
contrats et aux fonctions (y compris celles qui sont imbriquées). Elle remplit
le champ <em>Info</em> avec la structure correspondante et s&#x27;écrit elle-même dans les
<em>Objets</em> du bloc parent. De cette manière, nous pouvons appeler la fonction ou
le contrat avec le nom spécifié. De même, nous créons des fonctions
correspondantes pour tous les états et variables. Ces fonctions sont
généralement très petites et effectuent certaines tâches lors de la construction
de l&#x27;arbre de la machine virtuelle.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">func fNameBlock(buf *[]*Block, state int, lexem *Lexem) error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   var itype int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   prev := (*buf)[len(*buf)-2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   fblock := (*buf)[len(*buf)-1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name := lexem.Value.(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   switch state {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case stateBlock:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         itype = ObjContract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         name = StateName((*buf)[0].Info.(uint32), name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         fblock.Info = &amp;ContractInfo{ID: uint32(len(prev.Children) - 1), Name: name,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         Owner: (*buf)[0].Owner}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         itype = ObjFunc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         fblock.Info = &amp;FuncInfo{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   fblock.Type = itype</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   prev.Objects[name] = &amp;ObjInfo{Type: itype, Value: fblock}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pour la fonction <strong>CompileBlock</strong>, elle parcourt simplement tous les jetons et
change d&#x27;état en fonction des jetons décrits dans les états. Presque tous les
jetons supplémentaires correspondent à des codes de programme supplémentaires.</p>
<ul>
<li><strong>statePush</strong> - ajoute l&#x27;objet <strong>Block</strong> à l&#x27;arbre d&#x27;objets;</li>
<li><strong>statePop</strong> - utilisé lorsque le bloc se termine par une accolade fermante;</li>
<li><strong>stateStay</strong> - vous devez conserver la marque actuelle lors du passage à un
nouvel état;</li>
<li><strong>stateToBlock</strong> - transition vers l&#x27;état <strong>stateBlock</strong> pour traiter les
instructions <em>while</em> et <em>if</em>. Après le traitement des expressions, vous devez
traiter les blocs à l&#x27;intérieur des accolades;</li>
<li><strong>stateToBody</strong> - transition vers l&#x27;état <strong>stateBody</strong>;</li>
<li><strong>stateFork</strong> - enregistre la position marquée. Lorsque l&#x27;expression commence
par un identifiant ou un nom avec <code>$</code>, nous pouvons effectuer des appels de
fonction ou des affectations;</li>
<li><strong>stateToFork</strong> - utilisé pour obtenir le jeton stocké dans <strong>stateFork</strong>, qui
sera transmis à la fonction de traitement;</li>
<li><strong>stateLabel</strong> - utilisé pour insérer des commandes <strong>cmdLabel</strong>. La structure
<em>while</em> nécessite ce drapeau;</li>
<li><strong>stateMustEval</strong> - vérifie la disponibilité des expressions conditionnelles
au début des structures <em>if</em> et <em>while</em>.</li>
</ul>
<p>En plus de la fonction <strong>CompileBlock</strong>, la fonction <strong>FlushBlock</strong> devrait
également être mentionnée. Mais le problème est que l&#x27;arbre de blocs est
construit indépendamment des machines virtuelles existantes. Plus précisément,
nous obtenons des informations sur les fonctions et les contrats qui existent
dans une machine virtuelle, mais nous collectons les blocs compilés dans un
arbre séparé. Sinon, en cas d&#x27;erreur lors de la compilation, nous devons revenir
à l&#x27;état précédent de la machine virtuelle. Par conséquent, nous accédons à
l&#x27;arbre de compilation séparément, mais après que la compilation a réussi, la
fonction <strong>FlushContract</strong> doit être appelée. Cette fonction ajoute l&#x27;arbre de
blocs terminé à la machine virtuelle actuelle. La phase de compilation est
maintenant terminée.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lexical-analyzer">Analyseur lexical<a href="#lexical-analyzer" class="hash-link" aria-label="Direct link to Analyseur lexical" title="Direct link to Analyseur lexical">​</a></h2>
<p>L&#x27;analyseur lexical traite les chaînes entrantes et forme une séquence de jetons
des types suivants :</p>
<ul>
<li><strong>lexSys</strong> - jeton système, par exemple : <code>{}, [], (), ,, .</code> etc ;</li>
<li><strong>lexOper</strong> - jeton d&#x27;opération, par exemple : <code>+, -, /, \, *</code> ;</li>
<li><strong>lexNumber</strong> - nombre ;</li>
<li><strong>lexident</strong> - identifiant ;</li>
<li><strong>lexNewline</strong> - caractère de saut de ligne ;</li>
<li><strong>lexString</strong> - chaîne de caractères ;</li>
<li><strong>lexComment</strong> - commentaire ;</li>
<li><strong>lexKeyword</strong> - mot-clé ;</li>
<li><strong>lexType</strong> - type ;</li>
<li><strong>lexExtend</strong> - référence à des variables ou fonctions externes, par exemple :
<code>$myname</code>.</li>
</ul>
<p>Dans la version actuelle, une table de conversion (machine à états finis) est
initialement construite à l&#x27;aide du fichier <a href="#lextable-lextable-go">lextable.go</a>
pour analyser les jetons, qui est ensuite écrit dans le fichier lex_table.go. En
général, vous pouvez vous débarrasser de la table de conversion générée
initialement par le fichier et créer une table de conversion en mémoire
(<code>init()</code>) immédiatement au démarrage. L&#x27;analyse lexicale elle-même se produit
dans la fonction lexParser du fichier <a href="#lex-go">lex.go</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lextable-lextable-go">lextable/lextable.go<a href="#lextable-lextable-go" class="hash-link" aria-label="Direct link to lextable/lextable.go" title="Direct link to lextable/lextable.go">​</a></h3>
<p>Ici, nous définissons l&#x27;alphabet sur lequel nous opérons et décrivons comment la
machine à états finis change d&#x27;un état à un autre en fonction du symbole suivant
reçu.</p>
<p><em>states</em> est un objet JSON contenant une liste d&#x27;états.</p>
<p>Sauf pour des symboles spécifiques, <code>d</code> représente tous les symboles non
spécifiés dans l&#x27;état. <code>n</code> représente 0x0a, <code>s</code> représente un espace, <code>q</code>
représente une apostrophe inversée, <code>Q</code> représente des guillemets doubles, <code>r</code>
représente un caractère &gt;= 128, <code>a</code> représente AZ et az, et <code>1</code> représente les
chiffres de 1 à 9.</p>
<p>Le nom de ces états est une clé, et les valeurs possibles sont répertoriées dans
l&#x27;objet valeur. Ensuite, il y a un nouvel état pour effectuer des transitions
pour chaque groupe. Ensuite, il y a le nom du jeton. Si nous devons revenir à
l&#x27;état initial, le troisième paramètre est le jeton de service, qui indique
comment traiter le symbole actuel.</p>
<p>Par exemple, nous avons l&#x27;état principal et les caractères entrants <code>/</code>,
<code>&quot;/&quot;: [&quot;solidus&quot;, &quot;&quot;, &quot;push next&quot;]</code>,</p>
<ul>
<li><strong>push</strong> - donne la commande de se souvenir qu&#x27;il est dans une pile séparée ;</li>
<li><strong>next*</strong> - passe au caractère suivant et en même temps nous changeons le
statut en <strong>solidus</strong>. Ensuite, obtient le caractère suivant et vérifie le
statut de <strong>solidus</strong>.</li>
</ul>
<p>Si le prochain caractère est <code>/</code> ou <code>/*</code>, alors nous passons à l&#x27;état de
commentaire <strong>comment</strong> car ils commencent par <code>//</code> ou <code>/*</code>. Évidemment, chaque
commentaire a un état différent par la suite, car ils se terminent par un
symbole différent.</p>
<p>Si le prochain caractère n&#x27;est pas <code>/</code> et <code>*</code>, alors nous enregistrons tout dans
la pile en tant que balises de type <strong>lexOper</strong>, nous vidons la pile et revenons
à l&#x27;état principal.</p>
<p>Le module suivant convertit l&#x27;arbre d&#x27;état en un tableau numérique et l&#x27;écrit
dans le fichier <em>lex_table.go</em>.</p>
<p>Dans la première boucle :</p>
<p>Nous formons un alphabet de symboles valides.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for ind, ch := range alphabet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   i := byte(ind)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>De plus, dans <strong>state2int</strong>, nous attribuons à chaque état un identifiant de
séquence propre.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   state2int := map[string]uint{`main`: 0}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if err := json.Unmarshal([]byte(states), &amp;data); err == nil {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   for key := range data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if key != `main` {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   state2int[key] = uint(len(state2int))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Lorsque nous parcourons tous les états, chaque ensemble dans un état et chaque
symbole dans un ensemble, nous écrivons un nombre de trois octets [identifiant
nouvel état (0 = principal)] + [type de jeton (0-pas de jeton)] + [jeton]. La
bidimensionnalité du tableau <em>table</em> est qu&#x27;il est divisé en états et 34
symboles d&#x27;entrée du tableau <em>alphabet</em>, qui sont disposés dans le même ordre.</p>
<p>Nous sommes dans l&#x27;état <em>principal</em> sur la ligne zéro du tableau <em>table</em>. Prenez
le premier caractère, trouvez son index dans le tableau <em>alphabet</em> et obtenez la
valeur de la colonne avec l&#x27;index donné. À partir de la valeur obtenue, nous
recevons le jeton dans le octet de poids faible. Si l&#x27;analyse est terminée, le
deuxième octet indique le type de jeton reçu. Dans le troisième octet, nous
recevons l&#x27;index du prochain nouvel état. Tout cela est décrit plus en détail
dans la fonction <strong>lexParser</strong> dans le fichier <em>lex.go</em>.</p>
<p>Si vous souhaitez ajouter de nouveaux caractères, vous devez les ajouter au
tableau <em>alphabet</em> et augmenter la quantité de la constante <em>AlphaSize</em>. Si vous
souhaitez ajouter une nouvelle combinaison de symboles, elle doit être décrite
dans l&#x27;état, similaire aux options existantes. Après l&#x27;opération ci-dessus,
exécutez le fichier <em>lextable.go</em> pour mettre à jour le fichier <em>lex_table.go</em>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lex-go">lex-go<a href="#lex-go" class="hash-link" aria-label="Direct link to lex-go" title="Direct link to lex-go">​</a></h3>
<p>La fonction <strong>lexParser</strong> génère directement une analyse lexicale et renvoie un
tableau de balises reçues en fonction des chaînes entrantes. Analysons la
structure des jetons.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type Lexem struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Type  uint32 // Type of the lexem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Value interface{} // Value of lexem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Line  uint32 // Line of the lexem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Column uint32 // Position inside the line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Type</strong> - type de jeton. Il a l&#x27;une des valeurs suivantes :
<code>lexSys, lexOper, lexNumber, lexIdent, lexString, lexComment, lexKeyword, lexType, lexExtend</code>
;</li>
<li><strong>Value</strong> - valeur du jeton. Le type de valeur dépend du type de jeton.
Analysons cela plus en détail :</li>
<li><strong>lexSys</strong> - comprend des crochets, des virgules, etc. Dans ce cas,
<code>Type = ch &lt;&lt; 8 | lexSys</code>, veuillez vous référer à la constante
<code>isLPar ... isRBrack</code>, et sa valeur est un entier non signé de 32 bits ;<!-- -->
<ul>
<li><strong>lexOper</strong> - la valeur représente une séquence de caractères équivalente
sous forme de uint32. Voir les constantes <code>isNot ... isOr</code> ;</li>
<li><strong>lexNumber</strong> - les nombres sont stockés en tant que int64 ou float64. S&#x27;il
y a un point décimal, c&#x27;est un float64 ;</li>
<li><strong>lexIdent</strong> - les identifiants sont stockés en tant que chaîne de
caractères ;</li>
<li><strong>lexNewLine</strong> - caractère de saut de ligne. Utilisé également pour calculer
la ligne et la position du jeton ;</li>
<li><strong>lexString</strong> - les lignes sont stockées en tant que chaîne de caractères ;</li>
<li><strong>lexComment</strong> - les commentaires sont stockés en tant que chaîne de
caractères ;</li>
<li><strong>lexKeyword</strong> - pour les mots-clés, seuls les index correspondants sont
stockés, voir la constante <code>keyContract ... keyTail</code>. Dans ce cas,
<code>Type = KeyID &lt;&lt; 8 | lexKeyword</code>. De plus, il convient de noter que les
mots-clés <code>true, false, nil</code> seront immédiatement convertis en jetons de
type lexNumber, et les types correspondants <code>bool</code> et <code>intreface {}</code> seront
utilisés ;</li>
<li><strong>lexType</strong> - cette valeur contient la valeur de type <code>reflect.Type</code>
correspondante ;</li>
<li><strong>lexExtend</strong> - identifiants commençant par un <code>$</code>. Ces variables et
fonctions sont transmises de l&#x27;extérieur et sont donc attribuées à des types
de jetons spéciaux. Cette valeur contient le nom en tant que chaîne de
caractères sans le $ au début.</li>
</ul>
</li>
<li><strong>Line</strong> - la ligne où se trouve le jeton ;</li>
<li><strong>Column</strong> - la position dans la ligne du jeton.</li>
</ul>
<p>Analysons en détail la fonction <strong>lexParser</strong>. La fonction <strong>todo</strong> recherche
l&#x27;index du symbole dans l&#x27;alphabet en fonction de l&#x27;état actuel et du symbole
entrant, et obtient un nouvel état, un identifiant de jeton (le cas échéant) et
d&#x27;autres jetons à partir de la table de conversion. L&#x27;analyse elle-même consiste
à appeler la fonction <strong>todo</strong> successivement pour chaque caractère suivant et à
passer à un nouvel état. Une fois que la balise est reçue, nous créons le jeton
correspondant dans le critère de sortie et continuons le processus d&#x27;analyse. Il
convient de noter que pendant le processus d&#x27;analyse, nous n&#x27;accumulons pas les
symboles de jeton dans une pile ou un tableau séparé, car nous ne sauvegardons
que le décalage du début du jeton. Après avoir obtenu le jeton, nous déplaçons
le décalage du prochain jeton vers la position d&#x27;analyse actuelle.</p>
<p>Il ne reste plus qu&#x27;à vérifier les jetons d&#x27;état lexical utilisés dans l&#x27;analyse
:</p>
<ul>
<li><strong>lexfPush</strong> - ce jeton signifie que nous commençons à accumuler des symboles
dans un nouveau jeton ;</li>
<li><strong>lexfNext</strong> - le caractère doit être ajouté au jeton actuel ;</li>
<li><strong>lexfPop</strong> - la réception du jeton est terminée. Généralement, avec ce
drapeau, nous avons le type d&#x27;identifiant du jeton analysé ;</li>
<li><strong>lexfSkip</strong> - ce jeton est utilisé pour exclure des caractères de l&#x27;analyse.
Par exemple, les barres obliques de contrôle dans la chaîne sont \n \r &quot;. Ils
seront automatiquement remplacés lors de l&#x27;étape d&#x27;analyse lexicale.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="needle-language">Langage Needle<a href="#needle-language" class="hash-link" aria-label="Direct link to Langage Needle" title="Direct link to Langage Needle">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lexemes">Lexemes<a href="#lexemes" class="hash-link" aria-label="Direct link to Lexemes" title="Direct link to Lexemes">​</a></h3>
<p>Le code source d&#x27;un programme doit être encodé en UTF-8.</p>
<p>Les types lexicaux suivants sont traités :</p>
<ul>
<li><strong>Keywords</strong> -
<code>action, break, conditions, continue, contract, data, else, error, false, func, If, info, nil, return, settings, true, var, warning, while</code>;</li>
<li><strong>Number</strong> - seuls les nombres décimaux sont acceptés. Il existe deux types de
base : <strong>int</strong> et <strong>float</strong>. Si le nombre comporte un point décimal, il
devient un <strong>float</strong>. Le type <strong>int</strong> est équivalent à <strong>int64</strong> en golang,
tandis que le type <strong>float</strong> est équivalent à <strong>float64</strong> en golang.</li>
<li><strong>String</strong> - la chaîne de caractères peut être encadrée par des guillemets
doubles <code>(&quot;une chaîne de caractères&quot;)</code> ou des guillemets inversés
<code>(\`une chaîne de caractères\`)</code>. Les deux types de chaînes peuvent contenir
des caractères de nouvelle ligne. Les chaînes entre guillemets doubles peuvent
contenir des guillemets doubles, des caractères de nouvelle ligne et des
retours chariot échappés avec des barres obliques inverses. Par exemple,
<code>&quot;Ceci est une \&quot;première chaîne\&quot;.\r\nCeci est une deuxième chaîne.&quot;</code>.</li>
<li><strong>Comment</strong> - il existe deux types de commentaires. Les commentaires sur une
seule ligne utilisent deux barres obliques (//). Par exemple, // Ceci est un
commentaire sur une seule ligne. Les commentaires sur plusieurs lignes
utilisent le symbole barre oblique et astérisque et peuvent s&#x27;étendre sur
plusieurs lignes. Par exemple,
<code>/* Ceci est un commentaire sur plusieurs lignes */</code>.</li>
<li><strong>Identifier</strong> - les noms de variables et de fonctions sont composés de
lettres a-z et A-Z, de symboles UTF-8, de chiffres et de traits de
soulignement. Le nom peut commencer par une lettre, un trait de soulignement,
<code>@</code> ou <code>$</code>. Le nom commençant par <code>$</code> est le nom de la variable définie dans
la <strong>section data</strong>. Le nom commençant par <code>$</code> peut également être utilisé
pour définir des variables globales dans la portée des <strong>sections conditions</strong>
et <strong>action</strong>. Les contrats de l&#x27;écosystème peuvent être appelés à l&#x27;aide du
symbole <code>@</code>. Par exemple : <code>@1NouvelleTable(...)</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h3>
<p>Les types correspondants en golang sont spécifiés à côté des types Needle.</p>
<ul>
<li><strong>bool</strong> - bool, <strong>false</strong> by default;</li>
<li><strong>bytes</strong> - []byte<!-- -->, un tableau vide de bytes par défaut;</li>
<li><strong>int</strong> - int64, <strong>0</strong> par défaut;</li>
<li><strong>address</strong> - uint64, <strong>0</strong> par défaut;</li>
<li><strong>array</strong> - []interface<!-- -->, un tableau vide par défaut;</li>
<li><strong>map</strong> - map[string]interface<!-- -->, un objet vide par défaut;</li>
<li><strong>money</strong> - decimal. Decimal, <strong>0</strong> par défaut;</li>
<li><strong>float</strong> - float64, <strong>0</strong> par défaut;</li>
<li><strong>string</strong> - string, une chaîne vide par défaut;</li>
<li><strong>file</strong> - map[string]interface<!-- -->, un objet vide par défaut.</li>
</ul>
<p>Ces types de variables sont définis avec le mot-clé <code>var</code>. Par exemple,
<code>var var1, var2 int</code>. Lorsqu&#x27;ils sont définis de cette manière, une variable
sera affectée à une valeur par défaut selon son type.</p>
<p>Toutes les valeurs des variables sont de type interface<!-- -->, puis elles sont
affectées aux types golang requis. Par conséquent, par exemple, les types array
et map sont les types golang []interface<!-- --> et map[string]interface<!-- -->. Les deux
types de tableaux peuvent contenir des éléments de n&#x27;importe quel type.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expressions">Expressions<a href="#expressions" class="hash-link" aria-label="Direct link to Expressions" title="Direct link to Expressions">​</a></h3>
<p>Une expression peut inclure des opérations arithmétiques, des opérations
logiques et des appels de fonctions. Toutes les expressions sont évaluées de
gauche à droite en fonction de la priorité des opérateurs. En cas de priorité
égale, les opérateurs sont évalués de gauche à droite.</p>
<p>Priorité des opérations de haut en bas :</p>
<ul>
<li><strong>Appel de fonction et parenthèses</strong> - lorsqu&#x27;une fonction est appelée, les
paramètres passés sont calculés de gauche à droite ;</li>
<li><strong>Opération unaire</strong> - négation logique <code>!</code> et changement de signe
arithmétique <code>-</code> ;</li>
<li><strong>Multiplication et Division</strong> - multiplication arithmétique <code>*</code> et division
<code>/</code> ;</li>
<li><strong>Addition et Soustraction</strong> - addition arithmétique <code>+</code> et soustraction <code>-</code> ;</li>
<li><strong>Comparaison logique</strong> - <code>&gt;=&gt;&gt; &gt;=</code> ;</li>
<li><strong>Égalité et inégalité logiques</strong> - <code>== !=</code> ;</li>
<li><strong>ET logique</strong> - <code>&amp;&amp;</code> ;</li>
<li><strong>OU logique</strong> - <code>||</code>.</li>
</ul>
<p>Lors de l&#x27;évaluation des opérateurs logiques ET et OU, les deux côtés de
l&#x27;expression sont évalués dans tous les cas.</p>
<p>Needle ne vérifie pas les types lors de la compilation. Lors de l&#x27;évaluation des
opérandes, une tentative est faite pour convertir le type en un type plus
complexe. L&#x27;ordre de complexité des types peut être le suivant :
<code>string, int, float, money</code>. Seules certaines conversions de types sont
implémentées. Le type string prend en charge les opérations d&#x27;addition, et le
résultat sera une concaténation de chaînes de caractères. Par exemple,
<code>string + string = string, money-int = money, int * float = float</code>.</p>
<p>Pour les fonctions, une vérification des types est effectuée sur les types
<code>string</code> et <code>int</code> lors de l&#x27;exécution.</p>
<p><strong>array</strong> et <strong>map</strong> types peuvent être adressés par index. Pour le type
<strong>array</strong>, la valeur <strong>int</strong> doit être spécifiée comme index. Pour le type
<strong>map</strong>, une variable ou une valeur <strong>string</strong> doit être spécifiée. Si vous
assignez une valeur à un élément de l&#x27;<strong>array</strong> dont l&#x27;index est supérieur à
l&#x27;index maximum actuel, un élément vide sera ajouté à l&#x27;array. La valeur
initiale de ces éléments est <strong>nil</strong>. Par exemple: .. code:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var my array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my[5] = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var mymap map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mymap[&quot;index&quot;] = my[3]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In expressions of conditional logical values (such as <code>if, while, &amp;&amp;, ||, !</code>),
the type is automatically converted to a logical value. If the type is not the
default value, it is true.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var mymap map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var val string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if mymap &amp;&amp; val {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scope">Portée<a href="#scope" class="hash-link" aria-label="Direct link to Portée" title="Direct link to Portée">​</a></h3>
<p>Les accolades spécifient un bloc qui peut contenir des variables à portée
locale. Par défaut, la portée d&#x27;une variable s&#x27;étend à ses propres blocs et à
tous les blocs imbriqués. Dans un bloc, vous pouvez définir une nouvelle
variable en utilisant le nom d&#x27;une variable existante. Cependant, dans ce cas,
les variables externes portant le même nom deviennent indisponibles.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var a int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   var a int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   a = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Println(a) // 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Println(a) // 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contract-execution">Exécution de contrat intelligent<a href="#contract-execution" class="hash-link" aria-label="Direct link to Exécution de contrat intelligent" title="Direct link to Exécution de contrat intelligent">​</a></h3>
<p>Lors de l&#x27;appel d&#x27;un contrat intelligent, les paramètres définis dans <strong>data</strong>
doivent lui être transmis. Avant d&#x27;exécuter un contrat, la machine virtuelle
reçoit ces paramètres et les assigne aux variables correspondantes ($Param).
Ensuite, la fonction prédéfinie <strong>conditions</strong> et la fonction <strong>action</strong> sont
appelées.</p>
<p>Les erreurs survenant lors de l&#x27;exécution d&#x27;un contrat peuvent être divisées en
deux types : les erreurs de formulaire et les erreurs d&#x27;environnement. Les
erreurs de formulaire sont générées à l&#x27;aide de commandes spéciales :
<code>error, warning, info</code> et lorsque la fonction intégrée renvoie <code>err</code> différent
de <em>nil</em>.</p>
<p>Le langage Needle ne gère pas les exceptions. Toute erreur mettra fin à
l&#x27;exécution des contrats. Étant donné qu&#x27;une pile séparée et une structure pour
sauvegarder les valeurs des variables sont créées lors de l&#x27;exécution d&#x27;un
contrat, le mécanisme de collecte des déchets de golang supprimera
automatiquement ces données lors de l&#x27;exécution d&#x27;un contrat.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="backus-naur-form-bnf">Forme de Backus-Naur (BNF)<a href="#backus-naur-form-bnf" class="hash-link" aria-label="Direct link to Forme de Backus-Naur (BNF)" title="Direct link to Forme de Backus-Naur (BNF)">​</a></h3>
<p>En informatique, BNF est une technique de notation pour la syntaxe sans contexte
et est généralement utilisée pour décrire la syntaxe du langage utilisé en
informatique.</p>
<ul>
<li><code>&lt;decimal digit&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;0&#x27; | &#x27;1&#x27; | &#x27;2&#x27; | &#x27;3&#x27; | &#x27;4&#x27; | &#x27;5&#x27; | &#x27;6&#x27; | &#x27;7&#x27; | &#x27;8&#x27; | &#x27;9&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;decimal number&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;decimal digit&gt; {&lt;decimal digit&gt;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;symbol code&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;&#x27;&#x27;&lt;any symbol&gt;&#x27;&#x27;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;real number&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;-&#x27;] &lt;decimal number&#x27;.&#x27;[&lt;decimal number&gt;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;integer number&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;-&#x27;] &lt;decimal number&gt; | &lt;symbol code&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;number&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;&lt;integer number&gt; | &lt;real number&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;letter&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;A&#x27; |&#x27;B&#x27; | ... |&#x27;Z&#x27; |&#x27;a&#x27; |&#x27;b&#x27; | ... |&#x27;z&#x27; | 0x80 | 0x81 | ... | 0xFF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;space&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;0x20&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;tabulation&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;0x09&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;newline&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;0x0D 0x0A&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;special symbol&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;!&#x27; |&#x27;&quot;&#x27; |&#x27;$&#x27; |&#x27;&#x27;&#x27; |&#x27;(&#x27; |&#x27;)&#x27; |&#x27;\*&#x27; |&#x27;+&#x27; |&#x27;,&#x27; |&#x27;-&#x27; |&#x27;.&#x27; |&#x27;/ &#x27;|&#x27;&lt;&#x27; |&#x27;=&#x27; |&#x27;&gt;&#x27; |&#x27;[&#x27; |&#x27;\\&#x27; |&#x27;]&#x27; |&#x27;_&#x27; |&#x27;|&#x27; |&#x27;}&#x27; | &#x27;{&#x27; | &lt;tabulation&gt; | &lt;space&gt; | &lt;newline&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;symbol&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;decimal digit&gt; | &lt;letter&gt; | &lt;special symbol&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;name&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(&lt;letter&gt; |&#x27;_&#x27;) {&lt;letter&gt; |&#x27;_&#x27; | &lt;decimal digit&gt;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;function name&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;variable name&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;type name&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;string symbol&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tabulation&gt; | &lt;space&gt; |&#x27;!&#x27; |&#x27;#&#x27; | ... |&#x27;[&#x27; |&#x27;]&#x27; | ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;string element&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&lt;string symbol&gt; |&#x27;\&quot;&#x27; |&#x27;\n&#x27; |&#x27;\r&#x27;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;string&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;&quot;&#x27; {&lt;string element&gt;}&#x27;&quot;&#x27; |&#x27;\`&#x27; {&lt;string element&gt;}&#x27;\`&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;assignment operator&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;=&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;unary operator&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;-&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;binary operator&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;==&#x27; |&#x27;!=&#x27; |&#x27;&gt;&#x27; |&#x27;&lt;&#x27; |&#x27;&lt;=&#x27; |&#x27;&gt;=&#x27; |&#x27;&amp;&amp;&#x27; |&#x27;||&#x27; |&#x27;\*&#x27; |&#x27;/&#x27; |&#x27;+ &#x27;|&#x27;-&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;operator&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;assignment operator&gt; | &lt;unary operator&gt; | &lt;binary operator&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;parameters&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;expression&gt; {&#x27;,&#x27;&lt;expression&gt;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;contract call&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;contract name&gt;&#x27;(&#x27; [&lt;parameters&gt;]&#x27;)&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;function call&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;contract call&gt; [{&#x27;.&#x27; &lt;name&gt;&#x27;(&#x27; [&lt;parameters&gt;]&#x27;)&#x27;}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;block contents&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;block command&gt; {&lt;newline&gt;&lt;block command&gt;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;block&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;{&#x27;&lt;block contents&gt;&#x27;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;block command&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(&lt;block&gt; | &lt;expression&gt; | &lt;variables definition&gt; | &lt;if&gt; | &lt;while&gt; | break | continue | return)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;if&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;if &lt;expression&gt;&lt;block&gt; [else &lt;block&gt;]&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;while&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;while &lt;expression&gt;&lt;block&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;contract&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;contract &lt;name&gt; &#x27;{&#x27;[&lt;data section&gt;] {&lt;function&gt;} [&lt;conditions&gt;] [&lt;action&gt;]&#x27;}&#x27;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;data section&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;data &#x27;{&#x27; {&lt;data parameter&gt;&lt;newline&gt;} &#x27;}&#x27;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;data parameter&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;variable name&gt; &lt;type name&gt;&#x27;&quot;&#x27;{&lt;tag&gt;}&#x27;&quot;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;tag&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;optional | image | file | hidden | text | polymap | map | address | signature:&lt;name&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;conditions&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;conditions &lt;block&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;action&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;action &lt;block&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;function&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;func &lt;function name&gt;&#x27;(&#x27;[&lt;variable description&gt;{&#x27;,&#x27;&lt;variable description&gt;}]&#x27;)&#x27;[{&lt;tail&gt;}] [&lt;type name&gt;] &lt;block&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;variable description&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;variable name&gt; {&#x27;,&#x27; &lt;variable name&gt;} &lt;type name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;tail&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;.&#x27;&lt;function name&gt;&#x27;(&#x27;[&lt;variable description&gt;{&#x27;,&#x27;&lt;variable description&gt;}]&#x27;)&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&lt;variables definition&gt;</code></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;var &lt;variable description&gt;{&#x27;,&#x27;&lt;variable description&gt;}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://crowdin.com/project/ibax-docs/fr" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fr/topics/templates2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Langage de modèle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#source-code-storage-and-compilation" class="table-of-contents__link toc-highlight">Stockage et compilation du code source</a></li><li><a href="#virtual-machine-structures" class="table-of-contents__link toc-highlight">Structures de machines virtuelles</a><ul><li><a href="#vm-structure" class="table-of-contents__link toc-highlight">Structure VM</a></li><li><a href="#block-structure" class="table-of-contents__link toc-highlight">Structure de bloc</a></li><li><a href="#objinfo-structure" class="table-of-contents__link toc-highlight">Structure ObjInfo</a><ul><li><a href="#contractinfo-structure" class="table-of-contents__link toc-highlight">Structure ContractInfo</a></li><li><a href="#fieldinfo-structure" class="table-of-contents__link toc-highlight">Structure FieldInfo</a></li><li><a href="#funcinfo-structure" class="table-of-contents__link toc-highlight">Structure FuncInfo</a></li><li><a href="#funcname-structure" class="table-of-contents__link toc-highlight">Structure NomFonction</a></li><li><a href="#extfuncinfo-structure" class="table-of-contents__link toc-highlight">Structure ExtFuncInfo</a></li><li><a href="#varinfo-structure" class="table-of-contents__link toc-highlight">Structure VarInfo</a></li><li><a href="#objextend-value" class="table-of-contents__link toc-highlight">ObjExtend valeur</a></li></ul></li></ul></li><li><a href="#virtual-machine-commands" class="table-of-contents__link toc-highlight">Commandes de machine virtuelle</a><ul><li><a href="#bytecode-structure" class="table-of-contents__link toc-highlight">Structure du ByteCode</a></li><li><a href="#command-identifiers" class="table-of-contents__link toc-highlight">Identifiants de commande</a></li><li><a href="#stack-operation-commands" class="table-of-contents__link toc-highlight">Commandes d&#39;opérations de pile</a></li><li><a href="#runtime-structure" class="table-of-contents__link toc-highlight">Structure de Runtime</a><ul><li><a href="#blockstack-structure" class="table-of-contents__link toc-highlight">structure de blockStack</a></li></ul></li><li><a href="#runcode-function" class="table-of-contents__link toc-highlight">Fonction RunCode</a></li><li><a href="#other-functions-for-operations-with-vm" class="table-of-contents__link toc-highlight">Autres fonctions pour les opérations avec la VM</a></li></ul></li><li><a href="#compiler" class="table-of-contents__link toc-highlight">Compilateur</a></li><li><a href="#lexical-analyzer" class="table-of-contents__link toc-highlight">Analyseur lexical</a><ul><li><a href="#lextable-lextable-go" class="table-of-contents__link toc-highlight">lextable/lextable.go</a></li><li><a href="#lex-go" class="table-of-contents__link toc-highlight">lex-go</a></li></ul></li><li><a href="#needle-language" class="table-of-contents__link toc-highlight">Langage Needle</a><ul><li><a href="#lexemes" class="table-of-contents__link toc-highlight">Lexemes</a></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a></li><li><a href="#expressions" class="table-of-contents__link toc-highlight">Expressions</a></li><li><a href="#scope" class="table-of-contents__link toc-highlight">Portée</a></li><li><a href="#contract-execution" class="table-of-contents__link toc-highlight">Exécution de contrat intelligent</a></li><li><a href="#backus-naur-form-bnf" class="table-of-contents__link toc-highlight">Forme de Backus-Naur (BNF)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/fr/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ibaxnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IBAX-io/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/IBAX-io/needle" target="_blank" rel="noopener noreferrer" class="footer__link-item">Needle<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 IBAX Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>