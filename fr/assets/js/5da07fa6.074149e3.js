"use strict";(self.webpackChunkmy_ibax=self.webpackChunkmy_ibax||[]).push([[357],{3581:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>o});var s=r(4848),i=r(8453);const l={},d="D\xe9ploiement d'un r\xe9seau IBAX",t={id:"howtos/deployment",title:"D\xe9ploiement d'un r\xe9seau IBAX",description:"Dans cette section, nous vous montrerons comment d\xe9ployer votre propre r\xe9seau",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/howtos/deployment.md",sourceDirName:"howtos",slug:"/howtos/deployment",permalink:"/docs/fr/howtos/deployment",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/ibax-docs/fr",tags:[],version:"current",frontMatter:{},sidebar:"howtosSidebar"},c={},o=[{value:"Un exemple de d\xe9ploiement",id:"an-deployment-example",level:2},{value:"Phase de d\xe9ploiement",id:"deploy-phase",level:2},{value:"D\xe9ploiement du serveur",id:"server-deployment",level:2},{value:"D\xe9ployer le premier n\u0153ud",id:"deploy-the-first-node",level:3},{value:"D\xe9pendances et param\xe8tres de l&#39;environnement",id:"dependencies-and-environment-settings",level:3},{value:"sudo",id:"sudo",level:4},{value:"Golang",id:"golang",level:3},{value:"PostgreSQL",id:"postgresql",level:3},{value:"Centrifugo",id:"centrifugo",level:3},{value:"Structure du r\xe9pertoire",id:"directory-structure",level:3},{value:"Cr\xe9er une base de donn\xe9es",id:"create-a-database",level:3},{value:"Configurer Centrifugo",id:"configure-centrifugo",level:3},{value:"Installer go-ibax",id:"install-go-ibax",level:3},{value:"Configure the first node",id:"configure-the-first-node",level:3},{value:"Initialiser le premier serveur de n\u0153uds",id:"initiate-the-first-node-server",level:3},{value:"D\xe9ployer d&#39;autres n\u0153uds",id:"deploy-other-nodes",level:2},{value:"Noeud 2",id:"node-2",level:3},{value:"Noeud 3",id:"node-3",level:3},{value:"D\xe9ploiement front-end",id:"front-end-deployment",level:2},{value:"Pr\xe9requis logiciels",id:"software-prerequisites",level:3},{value:"Cr\xe9ez une application Weaver",id:"build-a-weaver-application",level:3},{value:"Ajoutez le fichier de configuration pour le r\xe9seau blockchain.",id:"add-the-configuration-file-for-the-blockchain-network",level:3},{value:"Construire une application web Weaver",id:"build-weaver-web-application",level:3},{value:"Configurer le r\xe9seau blockchain",id:"configure-the-blockchain-network",level:2},{value:"Cr\xe9ez le compte cr\xe9ateur",id:"create-the-creator-account",level:3},{value:"Importer des applications, des r\xf4les et des mod\xe8les",id:"import-applications-roles-and-templates",level:3},{value:"Ajoutez le premier n\u0153ud \xe0 la liste des n\u0153uds",id:"add-the-first-node-to-the-node-list",level:3},{value:"Ajoutez d&#39;autres n\u0153uds d&#39;honneur",id:"add-other-honor-nodes",level:2},{value:"Ajouter des membres dans le groupe de r\xf4le de consensus",id:"add-members-into-the-consensus-role-group",level:3},{value:"Cr\xe9ez le compte propri\xe9taire pour les autres n\u0153uds.",id:"create-the-owner-account-for-other-nodes",level:3},{value:"Attribuer le propri\xe9taire du n\u0153ud au r\xf4le de Validateur.",id:"assign-the-node-owner-with-the-validators-role",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"d\xe9ploiement-dun-r\xe9seau-ibax",children:"D\xe9ploiement d'un r\xe9seau IBAX"}),"\n",(0,s.jsx)(n.p,{children:"Dans cette section, nous vous montrerons comment d\xe9ployer votre propre r\xe9seau\nblockchain."}),"\n",(0,s.jsx)(n.h2,{id:"an-deployment-example",children:"Un exemple de d\xe9ploiement"}),"\n",(0,s.jsx)(n.p,{children:"Un r\xe9seau blockchain sera d\xe9ploy\xe9 avec les trois n\u0153uds suivants \xe0 titre\nd'exemple."}),"\n",(0,s.jsx)(n.p,{children:"Trois n\u0153uds du r\xe9seau :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Le n\u0153ud 1 est le premier n\u0153ud du r\xe9seau blockchain, qui peut g\xe9n\xe9rer de\nnouveaux blocs et envoyer des transactions \xe0 partir des clients qui y sont\nconnect\xe9s ;"}),"\n",(0,s.jsx)(n.li,{children:"Le n\u0153ud 2 est un autre n\u0153ud honorable, qui peut g\xe9n\xe9rer de nouveaux blocs et\nenvoyer des transactions \xe0 partir des clients qui y sont connect\xe9s ;"}),"\n",(0,s.jsx)(n.li,{children:"Le n\u0153ud 3 est un n\u0153ud gardien, qui ne peut pas g\xe9n\xe9rer de nouveaux blocs, mais\npeut envoyer des transactions \xe0 partir des clients qui y sont connect\xe9s."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Configurations des trois n\u0153uds \xe0 d\xe9ployer :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chaque n\u0153ud utilise sa propre instance du syst\xe8me de base de donn\xe9es\nPostgreSQL ;"}),"\n",(0,s.jsx)(n.li,{children:"Chaque n\u0153ud utilise sa propre instance du service Centrifugo ;"}),"\n",(0,s.jsx)(n.li,{children:"Le c\xf4t\xe9 serveur de github-backend est d\xe9ploy\xe9 sur le m\xeame h\xf4te que les autres\ncomposants backend."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Les adresses et ports d'\xe9chantillon utilis\xe9s par les n\u0153uds sont d\xe9crits dans le\ntableau suivant :"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"N\u0153ud"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Composant"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"IP et port"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"PostgreSQL"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"127.0.0.1:5432"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Centrifugo"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.1:8000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (TCP service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.1:7078"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (API service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.1:7079"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"PostgreSQL"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"127.0.0.1:5432"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Centrifugo"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.2:8000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (TCP service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.2:7078"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (API service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.2:7079"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"PostgreSQL"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"127.0.0.1:5432"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Centrifugo"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.3:8000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (TCP service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.3:7078"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"go-ibax (API service)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"192.168.1.3:7079"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"deploy-phase",children:"Phase de d\xe9ploiement"}),"\n",(0,s.jsx)(n.p,{children:"Votre propre r\xe9seau blockchain doit \xeatre d\xe9ploy\xe9 en plusieurs \xe9tapes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#an-deployment-example",children:"Exemple de d\xe9ploiement"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#deploy-phase",children:"Phase de d\xe9ploiement"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#server-deployment",children:"D\xe9ploiement du serveur"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#deploy-the-first-node",children:"D\xe9ploiement du premier n\u0153ud"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#dependencies-and-environment-settings",children:"D\xe9pendances et param\xe8tres d'environnement"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#sudo",children:"sudo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#golang",children:"Golang"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#postgresql",children:"PostgreSQL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#centrifugo",children:"Centrifugo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#directory-structure",children:"Structure des r\xe9pertoires"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#create-a-database",children:"Cr\xe9er une base de donn\xe9es"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#configure-centrifugo",children:"Configurer Centrifugo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#install-go-ibax",children:"Installer go-ibax"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#configure-the-first-node",children:"Configurer le premier n\u0153ud"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initiate-the-first-node-server",children:"Initialiser le serveur du premier n\u0153ud"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#deploy-other-nodes",children:"D\xe9ploiement des autres n\u0153uds"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#node-2",children:"N\u0153ud 2"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#node-3",children:"N\u0153ud 3"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#front-end-deployment",children:"D\xe9ploiement de l'interface utilisateur"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#software-prerequisites",children:"Pr\xe9requis logiciels"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#build-a-weaver-application",children:"Construire une application Weaver"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#add-the-configuration-file-for-the-blockchain-network",children:"Ajouter le fichier de configuration pour le r\xe9seau blockchain"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#build-weaver-web-application",children:"Construire l'application Weaver Web"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#configure-the-blockchain-network",children:"Configurer le r\xe9seau blockchain"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#create-the-creator-account",children:"Cr\xe9er le compte cr\xe9ateur"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#import-applications-roles-and-templates",children:"Importer les applications, les r\xf4les et les mod\xe8les"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#add-the-first-node-to-the-node-list",children:"Ajouter le premier n\u0153ud \xe0 la liste des n\u0153uds"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#add-other-honor-nodes",children:"Ajouter d'autres n\u0153uds d'honneur"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#add-members-into-the-consensus-role-group",children:"Ajouter des membres au groupe de r\xf4les du consensus"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#create-the-owner-account-for-other-nodes",children:"Cr\xe9er le compte propri\xe9taire pour les autres n\u0153uds"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#assign-the-node-owner-with-the-validators-role",children:"Assigner au propri\xe9taire du n\u0153ud le r\xf4le de validateur"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"server-deployment",children:"D\xe9ploiement du serveur"}),"\n",(0,s.jsx)(n.h3,{id:"deploy-the-first-node",children:"D\xe9ployer le premier n\u0153ud"}),"\n",(0,s.jsx)(n.p,{children:"Le premier n\u0153ud est sp\xe9cial car il est essentiel pour lancer le r\xe9seau\nblockchain. Le premier bloc de la blockchain est g\xe9n\xe9r\xe9 par le premier n\u0153ud, et\ntous les autres n\u0153uds t\xe9l\xe9chargent la blockchain \xe0 partir de celui-ci. Le\npropri\xe9taire du premier n\u0153ud est le cr\xe9ateur de la plateforme."}),"\n",(0,s.jsx)(n.h3,{id:"dependencies-and-environment-settings",children:"D\xe9pendances et param\xe8tres de l'environnement"}),"\n",(0,s.jsx)(n.h4,{id:"sudo",children:"sudo"}),"\n",(0,s.jsx)(n.p,{children:"Toutes les commandes de Debian 9 doivent \xeatre ex\xe9cut\xe9es en tant qu'utilisateur\nnon root. Cependant, certaines commandes syst\xe8me n\xe9cessitent des permissions de\nsuper utilisateur pour \xeatre ex\xe9cut\xe9es. Par d\xe9faut, sudo n'est pas install\xe9 sur\nDebian 9, vous devez l'installer d'abord."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Devenez un super utilisateur."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"su -\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Mettez \xe0 jour votre syst\xe8me."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"apt update -y && apt upgrade -y && apt dist-upgrade -y\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Installer sudo."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"apt install sudo -y\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Ajoutez votre utilisateur au groupe sudo."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"usermod -a -G sudo user\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Apr\xe8s le red\xe9marrage, les modifications prennent effet."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"golang",children:"Golang"}),"\n",(0,s.jsxs)(n.p,{children:["Installez Go selon les\n",(0,s.jsx)(n.a,{href:"https://golang.org/doc/install#tarball",children:"Documents Officiels"}),"."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["T\xe9l\xe9chargez la derni\xe8re version stable de Go (> 1.10.x) depuis le\n",(0,s.jsx)(n.a,{href:"https://golang.org/dl/",children:"site officiel de Golang"})," ou via la ligne de commande\n:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wget https://dl.google.com/go/go1.11.2.linux-amd64.tar.gz\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Utilisez tar pour extraire l'archive tar dans le r\xe9pertoire ",(0,s.jsx)(n.code,{children:"/usr/local"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"tar -C /usr/local -xzf go1.11.2.linux-amd64.tar.gz\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["Ajoutez ",(0,s.jsx)(n.code,{children:"/usr/local/go/bin"})," aux variables d'environnement PATH (qui se\ntrouvent dans ",(0,s.jsx)(n.code,{children:"/etc/profile"})," ou ",(0,s.jsx)(n.code,{children:"$HOME/.profile"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"export PATH=$PATH:/usr/local/go/bin\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Ex\xe9cutez le fichier ",(0,s.jsx)(n.code,{children:"source"})," pour que les modifications prennent effet, par\nexemple :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"source $HOME/.profile\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Supprimer les fichiers temporaires."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"rm go1.11.2.linux-amd64.tar.gz\n"})}),"\n",(0,s.jsx)(n.h3,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Installez PostgreSQL (> v.10) et psql:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y postgresql\n"})}),"\n",(0,s.jsx)(n.h3,{id:"centrifugo",children:"Centrifugo"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["T\xe9l\xe9chargez Centrifugo V.1.8.0 depuis\n",(0,s.jsx)(n.a,{href:"https://github.com/centrifugal/centrifugo/releases/",children:"GitHub"})," ou via la ligne\nde commande :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wget https://github.com/centrifugal/centrifugo/releases/download/v1.8.0/centrifugo-1.8.0-linux-amd64.zip \\\n&& unzip centrifugo-1.8.0-linux-amd64.zip \\\n&& mkdir centrifugo \\\n&& mv centrifugo-1.8.0-linux-amd64/* centrifugo/\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Supprimer les fichiers temporaires."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"rm -R centrifugo-1.8.0-linux-amd64 \\\n&& rm centrifugo-1.8.0-linux-amd64.zip\n"})}),"\n",(0,s.jsx)(n.h3,{id:"directory-structure",children:"Structure du r\xe9pertoire"}),"\n",(0,s.jsx)(n.p,{children:"Pour le syst\xe8me Debian 9, il est recommand\xe9 de stocker tous les logiciels\nutilis\xe9s par la plateforme blockchain dans un r\xe9pertoire s\xe9par\xe9."}),"\n",(0,s.jsxs)(n.p,{children:["Le r\xe9pertoire ",(0,s.jsx)(n.code,{children:"/opt/backenddir"})," est utilis\xe9 ici, mais vous pouvez utiliser\nn'importe quel r\xe9pertoire. Dans ce cas, veuillez modifier toutes les commandes\net les fichiers de configuration en cons\xe9quence."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ez un r\xe9pertoire pour la plateforme blockchain :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo mkdir /opt/backenddir\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Faites de votre utilisateur le propri\xe9taire du r\xe9pertoire."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo chown user /opt/backenddir/\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["Cr\xe9ez des sous-r\xe9pertoires pour Centrifugo, go-ibax et les donn\xe9es du n\u0153ud.\nToutes les donn\xe9es du n\u0153ud sont stock\xe9es dans un r\xe9pertoire nomm\xe9 ",(0,s.jsx)(n.code,{children:"nodeX"}),", o\xf9\n",(0,s.jsx)(n.code,{children:"X"})," est le num\xe9ro du n\u0153ud. Selon le n\u0153ud \xe0 d\xe9ployer, ",(0,s.jsx)(n.code,{children:"node1"})," est le N\u0153ud 1,\n",(0,s.jsx)(n.code,{children:"node2"})," est le N\u0153ud 2, et ainsi de suite."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"mkdir /opt/backenddir/go-ibax \\\nmkdir /opt/backenddir/go-ibax/node1 \\\nmkdir /opt/backenddir/centrifugo \\\n"})}),"\n",(0,s.jsx)(n.h3,{id:"create-a-database",children:"Cr\xe9er une base de donn\xe9es"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Changer le mot de passe utilisateur postgres au mot de passe par d\xe9faut\n",(0,s.jsx)(n.em,{children:"123456"}),". Vous pouvez d\xe9finir votre propre mot de passe, mais vous devez le\nmodifier dans le fichier de configuration du n\u0153ud ",(0,s.jsx)(n.em,{children:"config.toml"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo -u postgres psql -c \"ALTER USER postgres WITH PASSWORD '123456'\"\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Cr\xe9ez une base de donn\xe9es d'\xe9tat actuel pour le n\u0153ud, par exemple ",(0,s.jsx)(n.strong,{children:"chaindb"}),"\n:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'sudo -u postgres psql -c "CREATE DATABASE chaindb"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"configure-centrifugo",children:"Configurer Centrifugo"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ez le fichier de configuration Centrifugo :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'echo \'{"secret":"CENT_SECRET"}\' > /opt/backenddir/centrifugo/config.json\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Vous pouvez d\xe9finir votre propre ",(0,s.jsx)(n.em,{children:"secret"}),", mais vous devez \xe9galement le modifier\ndans le fichier de configuration du n\u0153ud ",(0,s.jsx)(n.em,{children:"config.toml"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"install-go-ibax",children:"Installer go-ibax"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"T\xe9l\xe9chargez github-backend depuis GitHub :"}),"\n",(0,s.jsxs)(n.li,{children:["Copiez le fichier binaire go-ibax dans le r\xe9pertoire\n",(0,s.jsx)(n.code,{children:"/opt/backenddir/go-ibax"}),". Si vous utilisez l'espace de travail Go par\nd\xe9faut, les fichiers binaires se trouvent dans le r\xe9pertoire ",(0,s.jsx)(n.code,{children:"$HOME/go/bin"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cp $HOME/go/bin/go-ibax /opt/backenddir/go-ibax\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configure-the-first-node",children:"Configure the first node"}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ez le fichier de configuration pour le Node 1 :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'/opt/backenddir/go-ibax config \\\n --dataDir=/opt/backenddir/node1 \\\n --dbName=chaindb \\\n --centSecret="CENT_SECRET" --centUrl=http://192.168.1.1:8000 \\\n --httpHost=192.168.1.1 \\\n --httpPort=7079 \\\n --tcpHost=192.168.1.1 \\\n --tcpPort=7078\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"G\xe9n\xe9rer les cl\xe9s du Node 1, y compris les cl\xe9s publique et priv\xe9e du n\u0153ud et\ndu compte :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/go-ibax generateKeys \\\n --config=/opt/backenddir/node1/config.toml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"G\xe9n\xe9rer le premier bloc :"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Remarque"}),"\n",(0,s.jsxs)(n.p,{children:["Si vous souhaitez cr\xe9er votre propre r\xe9seau blockchain, vous devez utiliser\nl'option ",(0,s.jsx)(n.code,{children:"--test=true"}),". Sinon, vous ne pourrez pas cr\xe9er de nouveau compte."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/go-ibax generateFirstBlock \\\n --config=/opt/backenddir/node1/config.toml \\\n --test=true\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Initialiser la base de donn\xe9es."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/go-ibax initDatabase \\\n --config=/opt/backenddir/node1/config.toml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initiate-the-first-node-server",children:"Initialiser le premier serveur de n\u0153uds"}),"\n",(0,s.jsx)(n.p,{children:"Pour d\xe9marrer le premier serveur de n\u0153uds, vous devez d\xe9marrer les deux services\nsuivants :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"centrifugo"}),"\n",(0,s.jsx)(n.li,{children:"go-ibax"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Si vous n'avez pas r\xe9ussi \xe0 cr\xe9er\n",(0,s.jsx)(n.a,{href:"https://wiki.debian.org/systemd/Services",children:"des services"})," avec ces fichiers, vous\npouvez ex\xe9cuter les fichiers binaires \xe0 partir de diff\xe9rents terminaux."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez centrifugo :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/centrifugo/centrifugo \\\n -a 192.168.1.1 -p 8000 \\\n --config /opt/backenddir/centrifugo/config.json\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez go-ibax:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/go-ibax start \\\n --config=/opt/backenddir/node1/config.toml\n"})}),"\n",(0,s.jsx)(n.h2,{id:"deploy-other-nodes",children:"D\xe9ployer d'autres n\u0153uds"}),"\n",(0,s.jsx)(n.p,{children:"Bien que le d\xe9ploiement de tous les autres n\u0153uds (N\u0153ud 2 et N\u0153ud 3) soit\nsimilaire au premier, il existe trois diff\xe9rences :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Vous n'avez pas besoin de g\xe9n\xe9rer le premier bloc. Mais il doit \xeatre copi\xe9\ndepuis le r\xe9pertoire de donn\xe9es du n\u0153ud 1 vers le n\u0153ud actuel ;"}),"\n",(0,s.jsxs)(n.li,{children:["Le n\u0153ud doit t\xe9l\xe9charger les blocs depuis le n\u0153ud 1 en configurant l'option\n",(0,s.jsx)(n.code,{children:"--nodesAddr"})," ;"]}),"\n",(0,s.jsx)(n.li,{children:"Le n\u0153ud doit utiliser ses propres adresses et ports."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"node-2",children:"Noeud 2"}),"\n",(0,s.jsx)(n.p,{children:"Suivez les instructions op\xe9rationnelles indiqu\xe9es ci-dessous :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#dependencies-and-environment-settings",children:"D\xe9pendances et param\xe8tres d'environnement"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#create-a-database",children:"Cr\xe9er une base de donn\xe9es"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#centrifugo",children:"Centrifugo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#install-go-ibax",children:"Installer go-ibax"})}),"\n",(0,s.jsx)(n.li,{children:"Cr\xe9er le fichier de configuration pour le Node 2 :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:' /opt/backenddir/go-ibax config \\\n--dataDir=/opt/backenddir/node2 \\\n--dbName=chaindb \\\n--centSecret="CENT_SECRET" --centUrl=http://192.168.1.2:8000 \\\n--httpHost=192.168.1.2 \\\n--httpPort=7079 \\\n--tcpHost=192.168.1.2 \\\n--tcpPort=7078 \\\n--nodesAddr=192.168.1.1\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Copiez le premier fichier de bloc vers le Node 2. Par exemple, vous pouvez\neffectuer cette op\xe9ration sur le Node 2 via scp :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" scp user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node2/\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsx)(n.li,{children:"G\xe9n\xe9rer les cl\xe9s de Node 2, y compris les cl\xe9s publique et priv\xe9e du n\u0153ud et\ndu compte :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" /opt/backenddir/go-ibax generateKeys \\\n--config=/opt/backenddir/node2/config.toml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"8",children:["\n",(0,s.jsx)(n.li,{children:"Initialiser la base de donn\xe9es."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" ./go-ibax initDatabase --config\\=node2/config.toml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"9",children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez centrifugo:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/centrifugo/centrifugo \\\n-a 192.168.1.2 -p 8000 \\\n--config/opt/backenddir/centrifugo/config.json\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"10",children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez go-ibax:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"/opt/backenddir/go-ibax start \\\n --config=/opt/backenddir/node2/config.toml\n"})}),"\n",(0,s.jsx)(n.p,{children:"En cons\xe9quence, le n\u0153ud t\xe9l\xe9charge le bloc \xe0 partir du premier n\u0153ud. Comme ce\nn\u0153ud n'est pas un n\u0153ud de v\xe9rification, il ne peut pas g\xe9n\xe9rer un nouveau bloc.\nLe n\u0153ud 2 sera ajout\xe9 ult\xe9rieurement \xe0 la liste des n\u0153uds de v\xe9rification."}),"\n",(0,s.jsx)(n.h3,{id:"node-3",children:"Noeud 3"}),"\n",(0,s.jsx)(n.p,{children:"Suivez les instructions op\xe9rationnelles indiqu\xe9es ci-dessous :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#dependencies-and-environment-settings",children:"D\xe9pendances et param\xe8tres d'environnement"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#create-a-database",children:"Cr\xe9er une base de donn\xe9es"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#centrifugo",children:"Centrifugo"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"#install-go-ibax",children:"Installer go-ibax"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cr\xe9er le fichier de configuration pour le n\u0153ud 3 :"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:' /opt/backenddir/go-ibax config \\\n--dataDir=/opt/backenddir/node3 \\\n--dbName=chaindb \\\n--centSecret="CENT_SECRET" --centUrl=http://192.168.1.3:8000 \\\n--httpHost=192.168.1.3 \\\n--httpPort=7079 \\\n--tcpHost=192.168.1.3 \\\n--tcpPort=7078 \\\n--nodesAddr=192.168.1.1\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Copiez le premier fichier de bloc vers le Node 3. Par exemple, vous pouvez\neffectuer cette op\xe9ration sur le Node 3 via scp :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" scp user@192.168.1.1:/opt/backenddir/node1/1block /opt/backenddir/node3/\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsx)(n.li,{children:"G\xe9n\xe9rer la cl\xe9 du Node 3, comprenant les cl\xe9s publique et priv\xe9e du n\u0153ud\nainsi que du compte :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" /opt/backenddir/go-ibax generateKeys \\\n--config=/opt/backenddir/node3/config.toml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"8",children:["\n",(0,s.jsx)(n.li,{children:"Initialiser la base de donn\xe9es."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" ./go-ibax initDatabase --config=node3/config.toml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"9",children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez centrifugo:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" /opt/backenddir/centrifugo/centrifugo \\\n-a 192.168.1.3 -p 8000 \\\n--config/opt/backenddir/centrifugo/config.json\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"10",children:["\n",(0,s.jsx)(n.li,{children:"Ex\xe9cutez go-ibax:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:" /opt/backenddir/go-ibax start \\\n --config=/opt/backenddir/node3/config.toml\n"})}),"\n",(0,s.jsx)(n.p,{children:"En cons\xe9quence, le n\u0153ud t\xe9l\xe9charge le bloc \xe0 partir du premier n\u0153ud. Comme ce\nn\u0153ud n'est pas un n\u0153ud de v\xe9rification, il ne peut pas g\xe9n\xe9rer un nouveau bloc.\nLe client peut \xeatre connect\xe9 au n\u0153ud et peut envoyer des transactions au r\xe9seau."}),"\n",(0,s.jsx)(n.h2,{id:"front-end-deployment",children:"D\xe9ploiement front-end"}),"\n",(0,s.jsxs)(n.p,{children:["Seulement apr\xe8s avoir install\xe9 ",(0,s.jsx)(n.strong,{children:"GNOME GUI"})," sur Debian 9 (Stretch) 64-bit\nOfficial Release, le client Govis peut \xeatre construit avec le gestionnaire de\npaquets ",(0,s.jsx)(n.code,{children:"yarn"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"software-prerequisites",children:"Pr\xe9requis logiciels"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"T\xe9l\xe9chargez la version LTS 8.11 de Node.js depuis le site officiel de Node.js\nou via la ligne de commande :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Installer Node.js:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y nodejs\n"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["T\xe9l\xe9chargez la version 1.7.0 de Yarn \xe0 partir du d\xe9p\xf4t\n",(0,s.jsx)(n.a,{href:"https://github.com/yarnpkg/yarn/releases",children:"Github"})," de Yarn ou via la ligne de\ncommande :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir \\\n&& wget https://github.com/yarnpkg/yarn/releases/download/v1.7.0/yarn_1.7.0_all.deb\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Installer Yarn:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo dpkg -i yarn_1.7.0_all.deb && rm yarn_1.7.0_all.deb\n"})}),"\n",(0,s.jsx)(n.h3,{id:"build-a-weaver-application",children:"Cr\xe9ez une application Weaver"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"T\xe9l\xe9chargez la derni\xe8re version de Weaver depuis github-frontend via git :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir \\\n&& git clone https://github.com/ibax-io/ibax-front.git\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Installer les d\xe9pendances de Weaver via Yarn:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir/ibax-front/ \\\n&& yarn install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"add-the-configuration-file-for-the-blockchain-network",children:"Ajoutez le fichier de configuration pour le r\xe9seau blockchain."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Cr\xe9ez un fichier ",(0,s.jsx)(n.em,{children:"settings.json"})," qui contient des informations sur la\nconnexion du n\u0153ud :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cp/opt/backenddir/ibax-front/public/settings.json.dist \\\n /opt/backenddir/ibax-front/public/public/settings.json\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Modifiez le fichier ",(0,s.jsx)(n.em,{children:"settings.json"})," dans n'importe quel \xe9diteur de texte et\najoutez les param\xe8tres requis dans ce format :"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://Node_IP-address:Node_HTTP-Port\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Exemples de fichiers ",(0,s.jsx)(n.em,{children:"settings.json"})," pour les trois n\u0153uds\xa0:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "fullNodes": [\n    "http://192.168.1.1:7079",\n    "http://192.168.1.2:7079",\n    "http://192.168.1.3:7079"\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Construire une application de bureau Weaver"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Utilisez yarn pour construire la version de bureau :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir/ibax-front \\\n&& yarn build-desktop\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"La version de bureau sera empaquet\xe9e dans le format de suffixe AppImage."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"yarn release --publish never -l\n"})}),"\n",(0,s.jsx)(n.p,{children:"Apr\xe8s la construction, votre application peut \xeatre utilis\xe9e, mais sa\nconfiguration de connexion ne peut pas \xeatre modifi\xe9e. Si ces param\xe8tres doivent\n\xeatre modifi\xe9s, une nouvelle version de l'application doit \xeatre construite."}),"\n",(0,s.jsx)(n.h3,{id:"build-weaver-web-application",children:"Construire une application web Weaver"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Cr\xe9ez une application web."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir/ibax-front/ \\\n&& yarn build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Apr\xe8s la construction, les fichiers redistribuables seront plac\xe9s dans le\nr\xe9pertoire /build. Vous pouvez utiliser n'importe quel serveur web de votre\nchoix pour le d\xe9ploiement, et le fichier ",(0,s.jsx)(n.em,{children:"settings.json"})," doit \xe9galement \xeatre\nplac\xe9 dans ce r\xe9pertoire. Notez que si les param\xe8tres de connexion sont\nmodifi\xe9s, il n'est pas n\xe9cessaire de reconstruire l'application. Au lieu de\ncela, modifiez le fichier ",(0,s.jsx)(n.em,{children:"settings.json"})," et red\xe9marrez le serveur web."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\xc0 des fins de d\xe9veloppement ou de test, vous pouvez construire le serveur web\nde Yarn :"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo yarn global add serve \\\n&& serve -s build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Apr\xe8s cela, votre application web Weaver sera disponible \xe0 l'adresse suivante :\n",(0,s.jsx)(n.code,{children:"http://localhost:5000"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"configure-the-blockchain-network",children:"Configurer le r\xe9seau blockchain"}),"\n",(0,s.jsx)(n.h3,{id:"create-the-creator-account",children:"Cr\xe9ez le compte cr\xe9ateur"}),"\n",(0,s.jsx)(n.p,{children:"Cr\xe9ez un compte pour le propri\xe9taire du premier n\u0153ud. Ce compte est le cr\xe9ateur\nde la nouvelle plateforme blockchain et a un acc\xe8s administrateur."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Lancez Weaver;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Importez le compte existant en utilisant les donn\xe9es suivantes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Chargez la sauvegarde de la cl\xe9 priv\xe9e du propri\xe9taire du n\u0153ud situ\xe9e dans\nle fichier ",(0,s.jsx)(n.code,{children:"/opt/backenddir/node1/PrivateKey"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Remarque"}),"\n",(0,s.jsxs)(n.p,{children:["Il y a deux fichiers de cl\xe9 priv\xe9e dans ce r\xe9pertoire. Le fichier ",(0,s.jsx)(n.code,{children:"PrivateKey"}),"\nest utilis\xe9 pour cr\xe9er le compte du propri\xe9taire du n\u0153ud. Le fichier\n",(0,s.jsx)(n.code,{children:"NodePrivateKey"})," est la cl\xe9 priv\xe9e du n\u0153ud lui-m\xeame et doit \xeatre gard\xe9 secret."]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Apr\xe8s vous \xeatre connect\xe9 \xe0 votre compte, puisqu'aucun r\xf4le n'a \xe9t\xe9 cr\xe9\xe9 pour\nle moment, veuillez s\xe9lectionner l'option Sans r\xf4le."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"import-applications-roles-and-templates",children:"Importer des applications, des r\xf4les et des mod\xe8les"}),"\n",(0,s.jsx)(n.p,{children:"\xc0 l'heure actuelle, la plateforme blockchain est dans un \xe9tat vierge. Vous\npouvez la configurer en ajoutant des r\xf4les, des mod\xe8les et des frameworks\nd'application qui prennent en charge les fonctions de base de l'\xe9cosyst\xe8me."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Clonez le d\xe9p\xf4t de l'application ;"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cd/opt/backenddir \\\n&& git clone https://github.com/ibax-io/dapps.git\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 D\xe9veloppeur > Importer dans Weaver;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Importez les applications dans l'ordre suivant:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:" A./opt/backenddir/dapps/system.json\n B./opt/backenddir/dapps/conditions.json\n C./opt/backenddir/dapps/basic.json\n D./opt/backenddir/dapps/lang_res.json\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 Admin> R\xf4le, et cliquez sur Installer le r\xf4le par d\xe9faut ;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Quittez le syst\xe8me via le menu du fichier de configuration dans le coin\nsup\xe9rieur droit ;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Connectez-vous au syst\xe8me en tant qu'administrateur ;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 Accueil> Vote> Liste des mod\xe8les, et cliquez sur Installer le\nmod\xe8le par d\xe9faut."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-the-first-node-to-the-node-list",children:"Ajoutez le premier n\u0153ud \xe0 la liste des n\u0153uds"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 D\xe9veloppeur> Param\xe8tres de la plateforme, et cliquez sur le\nparam\xe8tre first_nodes;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Sp\xe9cifiez les param\xe8tres du premier n\u0153ud du r\xe9seau blockchain."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["public_key - La cl\xe9 publique du n\u0153ud se trouve dans le fichier\n",(0,s.jsx)(n.code,{children:"/opt/backenddir/node1/NodePublicKey"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{"api_address":"http://192.168.1.1:7079","public_key":"%node_public_key%","tcp_address":"192.168.1.1:7078"}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"add-other-honor-nodes",children:"Ajoutez d'autres n\u0153uds d'honneur"}),"\n",(0,s.jsx)(n.h3,{id:"add-members-into-the-consensus-role-group",children:"Ajouter des membres dans le groupe de r\xf4le de consensus"}),"\n",(0,s.jsx)(n.p,{children:"Par d\xe9faut, seuls les membres du groupe de r\xf4le Consensus peuvent participer au\nvote n\xe9cessaire pour ajouter d'autres n\u0153uds principaux. Cela signifie qu'avant\nd'ajouter un nouveau n\u0153ud principal, les membres de l'\xe9cosyst\xe8me doivent \xeatre\nassign\xe9s au r\xf4le. Dans cette section, le compte du cr\xe9ateur est d\xe9sign\xe9 comme le\nseul membre du groupe de r\xf4le Consensus. Dans un environnement de production, ce\nr\xf4le doit \xeatre attribu\xe9 aux membres de la plateforme qui exercent la\ngouvernance."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 Accueil > R\xf4le et cliquez sur Consensus ;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cliquez sur Assigner pour attribuer le compte du cr\xe9ateur au r\xf4le."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"create-the-owner-account-for-other-nodes",children:"Cr\xe9ez le compte propri\xe9taire pour les autres n\u0153uds."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ex\xe9cutez Weaver;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Importez le compte existant en utilisant les donn\xe9es suivantes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Chargez la sauvegarde de la cl\xe9 priv\xe9e du propri\xe9taire du n\u0153ud situ\xe9e dans\nle fichier ",(0,s.jsx)(n.code,{children:"/opt/backenddir/node2/PrivateKey"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Apr\xe8s vous \xeatre connect\xe9 au compte, puisqu'aucun r\xf4le n'a \xe9t\xe9 cr\xe9\xe9 \xe0 ce\nmoment-l\xe0, veuillez s\xe9lectionner l'option Sans r\xf4le."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Acc\xe9dez \xe0 Accueil> Informations personnelles, et cliquez sur le titre des\ninformations personnelles;"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ajoutez les d\xe9tails du compte (titre des informations personnelles,\ndescription, etc.)."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"assign-the-node-owner-with-the-validators-role",children:"Attribuer le propri\xe9taire du n\u0153ud au r\xf4le de Validateur."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Op\xe9rations par le nouveau propri\xe9taire du n\u0153ud :","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Acc\xe9dez \xe0 Accueil> V\xe9rificateur ;"}),"\n",(0,s.jsx)(n.li,{children:"Cliquez sur Cr\xe9er une demande et remplissez le formulaire de candidature\ndu v\xe9rificateur ;"}),"\n",(0,s.jsx)(n.li,{children:"Cliquez sur envoyer la demande."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Op\xe9rations par le cr\xe9ateur :","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Connectez-vous avec un r\xf4le de consensus (Consensus) ;"}),"\n",(0,s.jsx)(n.li,{children:"Acc\xe9dez \xe0 Accueil> V\xe9rificateur ;"}),"\n",(0,s.jsx)(n.li,{children:'Cliquez sur l\'ic\xf4ne "Lecture" pour commencer le vote selon la demande du\ncandidat ;'}),"\n",(0,s.jsx)(n.li,{children:"Acc\xe9dez \xe0 Accueil > Vote, et cliquez sur Mettre \xe0 jour le statut du vote ;"}),"\n",(0,s.jsx)(n.li,{children:"Cliquez sur le nom du vote et votez pour le propri\xe9taire du n\u0153ud."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"En cons\xe9quence, le compte du propri\xe9taire du nouveau n\u0153ud est attribu\xe9 au r\xf4le\nde validateur, et le nouveau n\u0153ud est ajout\xe9 \xe0 la liste des n\u0153uds principaux."})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>t});var s=r(6540);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);