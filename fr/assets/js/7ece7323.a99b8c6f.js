"use strict";(self.webpackChunkmy_ibax=self.webpackChunkmy_ibax||[]).push([[440],{4669:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=s(4848),r=s(8453);const i={},t="Tutoriel de d\xe9veloppement IBAX {#ibax-development-tutorial}",o={id:"tutorials/tutorial",title:"Tutoriel de d\xe9veloppement IBAX",description:"ibax-development-tutorial}",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/tutorials/tutorial.md",sourceDirName:"tutorials",slug:"/tutorials/tutorial",permalink:"/docs/fr/tutorials/tutorial",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/ibax-docs/fr",tags:[],version:"current",frontMatter:{},sidebar:"tutorialsSidebar",previous:{title:"Tutoriel pour le d\xe9veloppement d'applications",permalink:"/docs/fr/tutorials/app_tutorial"}},l={},c=[{value:"Guide de d\xe9marrage",id:"getting-started-guide",level:2},{value:"D\xe9ploiement",id:"deployment",level:2},{value:"Guide Avanc\xe9",id:"advanced-guide",level:2},{value:"D\xe9ployer le premier smart contract via l&#39;outil en ligne de commande",id:"deploy-first-smart-contract-via-command-line-tool",level:2},{value:"Cr\xe9er une application",id:"create-application",level:3},{value:"R\xe9daction de contrats",id:"writing-contracts",level:3},{value:"Cr\xe9er un contrat",id:"create-contract",level:3},{value:"Outil en ligne de commande pour le d\xe9veloppement \xe9cologique",id:"command-line-tool-eco-development",level:2},{value:"\xc9tape 1 : Cr\xe9er un \xe9cosyst\xe8me",id:"step-1-create-ecosystem",level:3},{value:"\xc9tape 2 : Cr\xe9er une application",id:"step-2-create-application",level:3},{value:"\xc9tape 3 : Cr\xe9er une table",id:"step-3-create-table",level:3},{value:"Modifier les autorisations des champs de la table de donn\xe9es",id:"modify-data-table-field-permissions",level:4},{value:"\xc9tape 4 : Cr\xe9er les param\xe8tres de l&#39;application",id:"step-4-create-application-parameters",level:3},{value:"\xc9tape 5 : Cr\xe9er un contrat et le d\xe9ployer.",id:"step-5-create-contract-deploy-contract",level:3},{value:"\xc9tape 6 : Cr\xe9er des param\xe8tres \xe9cologiques",id:"step-6-create-ecosystem-parameters",level:3},{value:"\xc9tape 7 : ajouter la localisation",id:"step-7-add-localization",level:3},{value:"\xc9tape 8 Modifier le contrat",id:"step-8-modify-the-contract",level:3},{value:"\xc9tape 9 Modifier les autorisations de la table de donn\xe9es",id:"step-9-modify-data-table-permissions",level:4},{value:"D\xe9ployer une application \xe0 l&#39;aide d&#39;outils en ligne de commande",id:"deploy-application-using-command-line-tools",level:2},{value:"Exporter l&#39;application",id:"export-application",level:3},{value:"Importer l&#39;application",id:"import-application",level:3},{value:"Configuration \xe9cologique \xe0 l&#39;aide d&#39;un outil en ligne de commande",id:"ecosystem-configuration-using-command-line-tool",level:2},{value:"Postuler pour rejoindre l&#39;\xe9cosyst\xe8me",id:"apply-to-join-the-ecosystem",level:3},{value:"Ajouter des membres de l&#39;\xe9cosyst\xe8me",id:"add-ecosystem-members",level:3},{value:"Blocage des comptes",id:"freezing-of-accounts",level:4},{value:"Gestion des r\xf4les",id:"role-management",level:3},{value:"Cr\xe9ation d&#39;un nouveau r\xf4le",id:"new-role-creation",level:4},{value:"Ajout de membres de r\xf4le",id:"adding-role-members",level:4},{value:"Supprimer les membres du r\xf4le",id:"delete-role-members",level:4},{value:"Modifier le gestionnaire de r\xf4les",id:"modify-role-manager",level:4},{value:"Supprimer le r\xf4le",id:"delete-role",level:4},{value:"\xc9mission de jeton",id:"issuance-of-token",level:3},{value:"Cr\xe9er un \xe9cosyst\xe8me",id:"create-ecosystem",level:4},{value:"Installation des applications de base",id:"installing-basic-applications",level:4},{value:"\xc9mission de jetons",id:"token-issuance",level:4},{value:"D\xe9duction de l&#39;\xe9cosyst\xe8me",id:"eco-deduction",level:3},{value:"\xc9cosyst\xe8me de gouvernance DAO",id:"dao-governance-ecosystem",level:3},{value:"D\xe9ployer des applications \xe0 l&#39;aide d&#39;un outil d&#39;emballage d&#39;applications",id:"deploy-applications-using-application-packaging-tool",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"ibax-development-tutorial",children:"Tutoriel de d\xe9veloppement IBAX"}),"\n",(0,a.jsx)(n.h2,{id:"getting-started-guide",children:"Guide de d\xe9marrage"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#deploy-first-smart-contract-via-command-line-tool",children:"D\xe9ployer le premier contrat intelligent via l'outil en ligne de commande"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#command-line-tool-eco-development",children:"D\xe9veloppement de l'\xe9cosyst\xe8me de l'outil en ligne de commande"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"deployment",children:"D\xe9ploiement"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#deploy-application-using-command-line-tools",children:"D\xe9ployer une application \xe0 l'aide des outils en ligne de commande"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#ecosystem-configuration-using-command-line-tool",children:"Configuration \xe9cologique \xe0 l'aide de l'outil en ligne de commande"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"advanced-guide",children:"Guide Avanc\xe9"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#deploy-applications-using-application-packaging-tool",children:"D\xe9ployer des applications \xe0 l'aide de l'outil d'emballage d'application"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"deploy-first-smart-contract-via-command-line-tool",children:"D\xe9ployer le premier smart contract via l'outil en ligne de commande"}),"\n",(0,a.jsxs)(n.p,{children:["Nous allons d\xe9ployer des\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/thesaurus#smart-contract",children:"smart contracts"})," sur la blockchain\nIBAX via l'",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/ibax-cli",children:"outil en ligne de commande"})," et\napprendre comment invoquer des smart contracts. En tant que premier smart\ncontract, nous l'avons d\xe9ploy\xe9 sur le\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/blockchain-layers",children:"r\xe9seau de test local"}),". Pour savoir comment\nd\xe9ployer un r\xe9seau local, vous pouvez vous r\xe9f\xe9rer \xe0\n",(0,a.jsx)(n.a,{href:"/docs/fr/howtos/deployment",children:"D\xe9ploiement du r\xe9seau"}),", ainsi vous pouvez le d\xe9ployer\net l'ex\xe9cuter comme vous le souhaitez sans aucun surco\xfbt."]}),"\n",(0,a.jsx)(n.h3,{id:"create-application",children:"Cr\xe9er une application"}),"\n",(0,a.jsxs)(n.p,{children:["Appelez le contrat @1NewApplication pour cr\xe9er l'application, qui a un param\xe8tre\nde nom d'application et un param\xe8tre de\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#access-rights-control-mechanism",children:"permission de modification"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1  $ ibax-cli console\n2\n3  Bienvenue dans la console IBAX !\n4  Pour quitter, appuyez sur ctrl-d ou tapez exit\n5  >callContract @1NewApplication {"Name": "testapp", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n6\n7  {\n8    "block_id": 1217,\n9    "hash": "6327161d2202c33c06d34ab4ed9b509c05fc2cbb15cf260c6d3d404a6f640028",\n10   "penalty": 0,\n11   "err": "31"\n12 }\n'})}),"\n",(0,a.jsx)(n.p,{children:"Les \xe9l\xe9ments suivants sont expliqu\xe9s par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ligne 1, d\xe9marrer le terminal de ligne de commande"}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 5, appeler le contrat @1NewApplication pour cr\xe9er une application avec\nle nom d'application ",(0,a.jsx)(n.code,{children:"testapp"})," et la permission de modification de\nl'application ",(0,a.jsx)(n.code,{children:"@1DeveloperCondition"})," avec la permission du d\xe9veloppeur"]}),"\n",(0,a.jsx)(n.li,{children:"Ligne 8, l'identifiant de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 9, le hachage de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 10, si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 11, si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'identifiant de bloc est renvoy\xe9, le champ err est\nl'identifiant de l'application"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Bien s\xfbr, si vous souhaitez voir quels champs et types de champs sont\ndisponibles dans ce contrat, vous pouvez appeler la m\xe9thode ",(0,a.jsx)(n.code,{children:"getContractInfo"}),",\nqui renverra les informations sur le contrat comme suit:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>getContractInfo @1NewApplication\n\n{\n    "id": 5022,\n    "state": 1,\n    "tableid": "22",\n    "walletid": "0",\n    "tokenid": "1",\n    "address": "0000-0000-0000-0000-0000",\n    "fields": [\n        {\n            "name": "Name",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "Conditions",\n            "type": "string",\n            "optional": false\n        },\n        {\n            "name": "VotingId",\n            "type": "int",\n            "optional": true\n        }\n    ],\n    "name": "@1NewApplication",\n    "app_id": 1,\n    "ecosystem": 1,\n    "conditions": "ContractConditions(\\"@1DeveloperCondition\\")"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Le champ ",(0,a.jsx)(n.code,{children:"fields"})," est constitu\xe9 des param\xe8tres du contrat, incluant le nom du\nparam\xe8tre ",(0,a.jsx)(n.code,{children:"name"}),", ",(0,a.jsx)(n.code,{children:"type"}),", ",(0,a.jsx)(n.code,{children:"optional"}),", ",(0,a.jsx)(n.code,{children:"Name"})," et ",(0,a.jsx)(n.code,{children:"Conditions"})," sont requis,\n",(0,a.jsx)(n.code,{children:"VotingId"})," est optionnel, consultez la m\xe9thode API\n",(0,a.jsx)(n.a,{href:"/docs/fr/reference/api2#contract-name",children:"contract/name"})]}),"\n",(0,a.jsx)(n.h3,{id:"writing-contracts",children:"R\xe9daction de contrats"}),"\n",(0,a.jsxs)(n.p,{children:["Nous utilisons ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#needle-contract-language",children:"Needle"})," pour\n\xe9crire un contrat intelligent. Nous impl\xe9mentons une op\xe9ration d'addition\nsimple, le code source du contrat est le suivant, nous enregistrons le contrat\nsous le nom ",(0,a.jsx)(n.code,{children:"SumMath.sim"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"1    contract SumMath {\n2        data {\n3            A int\n4            B int\n5        }\n6        conditions {\n7\n8        }\n9        action {\n10            var sum int\n11            sum = $A + $B\n12            $result = sum\n13        }\n14    }\n"})}),"\n",(0,a.jsx)(n.p,{children:"Le suivant est expliqu\xe9 par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\xc0 la ligne 1, nous d\xe9finissons un contrat avec le nom SumMath."}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 2, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#data-section",children:"Section des donn\xe9es"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Aux lignes 3-4, nous d\xe9finissons deux param\xe8tres de type entier 64 bits en\nentr\xe9e, ",(0,a.jsx)(n.code,{children:"A"})," et ",(0,a.jsx)(n.code,{children:"B"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 6, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#conditions-section",children:"Section conditionnelle"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 9, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#action-section",children:"Section des op\xe9rations"}),". Nous\nd\xe9finissons une variable ",(0,a.jsx)(n.code,{children:"sum"})," pour recevoir le r\xe9sultat de A+B. Nous\nassignons la valeur de ",(0,a.jsx)(n.code,{children:"sum"})," \xe0 ",(0,a.jsx)(n.code,{children:"$result"}),", en tant que r\xe9sultat du contrat.\nBien s\xfbr, il est possible d'assigner directement la valeur de A+B \xe0 ",(0,a.jsx)(n.code,{children:"$result"}),",\nmais cela peut \xeatre montr\xe9 comme un exemple."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"create-contract",children:"Cr\xe9er un contrat"}),"\n",(0,a.jsx)(n.p,{children:"Il existe deux fa\xe7ons de cr\xe9er un contrat, dont la premi\xe8re est la suivante :\nDans la premi\xe8re \xe9tape, nous r\xe9digeons un fichier de param\xe8tres de contrat au\nformat json :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "ApplicationId": 31,\n  "Value": "contract SumMath {\\n    data {\\n        A int\\n        B int\\n    }\\n    conditions {\\n\\n    }\\n    action {\\n        var sum int\\n        sum = $A + $B\\n        $result = sum\\n    }\\n}",\n  "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["o\xf9 ",(0,a.jsx)(n.code,{children:"ApplicationId"})," est l'identifiant de l'application, ",(0,a.jsx)(n.code,{children:"Value"})," est le code\nsource du contrat, il est n\xe9cessaire d'\xe9chapper les caract\xe8res sp\xe9ciaux,\n",(0,a.jsx)(n.code,{children:"Conditions"})," sont les droits de modification du contrat."]}),"\n",(0,a.jsx)(n.p,{children:"Nous l'avons nomm\xe9 SumMathParams.json."}),"\n",(0,a.jsx)(n.p,{children:"La deuxi\xe8me \xe9tape consiste \xe0 appeler la cr\xe9ation d'un contrat @1NewContract:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'1    >callContract @1NewContract -f=./data/SumMathParams.json\n2    {\n3        "block_id": 1238,\n4        "hash": "f3fe7aff8a613c96299723b7e9af0682aa8cabe7becf67a485e2a77a974f58b6",\n5        "penalty": 0,\n6        "err": "328"\n7    }\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Deuxi\xe8me m\xe9thode : Le fichier source du contrat enregistr\xe9 est directement\ntransmis aux param\xe8tres du contrat dans le format de param\xe8tre ",(0,a.jsx)(n.code,{children:"nomParam\xe8tre"})," +\n",(0,a.jsx)(n.code,{children:"-"}),' + "fichier", ',(0,a.jsx)(n.code,{children:"nomParam\xe8tre-fichier"})," comme suit :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'1    >callContract @1NewContract {"ApplicationId": 31, "Value-file": "SumMath.sim", "Conditions": "true"}\n2    {\n3        "block_id": 2055,\n4        "hash": "cdf25060669cf7cba137278...26ca463fd5d458f3402a5f0137f693db",\n5        "penalty": 0,\n6        "err": "368"\n7    }\n'})}),"\n",(0,a.jsx)(n.p,{children:"Le suivant est expliqu\xe9 par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ligne 1 : Appeler le contrat @1NewContract pour cr\xe9er le contrat, -f utilise\nle fichier pour importer les param\xe8tres du contrat"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 3 : L'identifiant de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 4 : Le hachage de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 5 : Si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 6 : Si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'identifiant de bloc est renvoy\xe9, le champ err est\nl'identifiant du contrat"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Essayons d'appeler le contrat que nous venons de d\xe9ployer."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'1  >callContract @5SumMath {"A":1, "B":2}\n2\n3  {\n4      "block_id": 1239,\n5      "hash": "7fa09da0b9f65634119a910f9d91aaf4927208278efd62961499ef7e4f4c8c9c",\n6      "penalty": 0,\n7      "err": "3"\n8  }\n'})}),"\n",(0,a.jsx)(n.p,{children:"L'appel est termin\xe9 et le r\xe9sultat est conforme aux attentes, comme expliqu\xe9\nci-dessous par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["La premi\xe8re ligne appelle le contrat, ici nous d\xe9ployons le contrat dans\nl'\xe9cosyst\xe8me avec l'identifiant \xe9cologique 5. Bien s\xfbr, si l'identifiant\n\xe9cologique actuel est 5, dans le m\xeame \xe9cosyst\xe8me, vous pouvez \xe9galement\nappeler ",(0,a.jsx)(n.code,{children:'callContract SumMath {"A":1, "B":2}'})," de cette mani\xe8re."]}),"\n",(0,a.jsx)(n.li,{children:"Ligne 3, l'identifiant de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 4, le hachage de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 5, si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)."}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 6, si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'identifiant de bloc est renvoy\xe9, le champ err est le r\xe9sultat\ndu contrat, qui est la valeur de ",(0,a.jsx)(n.code,{children:"$result"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"command-line-tool-eco-development",children:"Outil en ligne de commande pour le d\xe9veloppement \xe9cologique"}),"\n",(0,a.jsx)(n.p,{children:"Dans ce tutoriel, vous apprendrez comment :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-1-create-ecosystem",children:"Cr\xe9er un \xe9cosyst\xe8me"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-2-create-application",children:"Cr\xe9er une application"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-3-create-table",children:"Cr\xe9er une table"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-4-create-application-parameters",children:"Cr\xe9er des param\xe8tres d'application"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-5-create-contract-deploy-contract",children:"Cr\xe9er et d\xe9ployer un contrat"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"6",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-6-create-ecosystem-parameters",children:"Cr\xe9er des param\xe8tres \xe9cologiques"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"7",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-7-add-localization",children:"Ajouter la localisation"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"8",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-8-modify-the-contract",children:"Modifier le contrat"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"9",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#step-9-modify-data-table-permissions",children:"Modifier les autorisations de la table de donn\xe9es"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Afin de comprendre plus clairement \xe0 quoi ressemble l'\xe9cosyst\xe8me et les\napplications IBAX et ce qu'ils font, il est pr\xe9f\xe9rable de comprendre o\xf9\nl'\xe9cosyst\xe8me et les applications devraient appartenir, et nous pouvons mieux\ncomprendre avec une carte mentale simple : ",(0,a.jsx)(n.img,{alt:"image",src:s(4963).A+"",width:"1922",height:"1242"})]}),"\n",(0,a.jsxs)(n.p,{children:["Il est possible de constater que les r\xe9seaux IBAX peuvent avoir de nombreux\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#ecolib",children:"\xc9cosyst\xe8mes"}),". Chaque \xe9cosyst\xe8me peut\navoir plusieurs ",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#applications",children:"applications"}),".\nChaque application poss\xe8de un\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/thesaurus#smart-contract",children:"contrat"}),".\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#tables",children:"Tables"}),". Chaque \xe9cosyst\xe8me poss\xe8de\ndes param\xe8tres \xe9cologiques, chaque application poss\xe8de des param\xe8tres\nd'application."]}),"\n",(0,a.jsx)(n.h3,{id:"step-1-create-ecosystem",children:"\xc9tape 1 : Cr\xe9er un \xe9cosyst\xe8me"}),"\n",(0,a.jsxs)(n.p,{children:["Nous commen\xe7ons par cr\xe9er un \xe9cosyst\xe8me en utilisant l'outil en ligne de\ncommande (",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/ibax-cli",children:"https://github.com/IBAX-io/ibax-cli"}),"), en appelant le contrat\n@1NewEcosystem. Si vous souhaitez changer le nom de l'\xe9cosyst\xe8me, vous pouvez\nappeler le contrat @1EditEcosystemName."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'1    $ ibax-cli console\n\n3    Welcome to the IBAX console!\n4    To exit, press ctrl-d or type exit\n5    >callContract @1NewEcosystem {"Name": "goodBoy school"}\n6\n7    {\n8        "block_id": 1199,\n9        "hash": "a1dc90c1772545c16394b9521...227676b27b145743556a8973dd",\n10       "penalty": 0,\n11       "err": "18"\n12   }\n'})}),"\n",(0,a.jsx)(n.p,{children:"Les \xe9l\xe9ments suivants sont expliqu\xe9s par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ligne 1, qui lance le programme de console de ligne de commande"}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 5, appelle le contrat ",(0,a.jsx)(n.code,{children:"@1NewEcosystem"}),' pour cr\xe9er un \xe9cosyst\xe8me avec le\nnom "test ecosystem"']}),"\n",(0,a.jsx)(n.li,{children:"Ligne 8, l'identifiant de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 9, le hachage de bloc g\xe9n\xe9r\xe9 par la transaction"}),"\n",(0,a.jsx)(n.li,{children:"Ligne 10, si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)"}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 11, si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'identifiant de bloc est renvoy\xe9, le champ d'erreur est\nl'identifiant de l'\xe9cosyst\xe8me en tant que ",(0,a.jsx)(n.code,{children:"18"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Ensuite, nous configurons l'outil de commande ",(0,a.jsx)(n.code,{children:"config.yml"}),", nous d\xe9finissons\n",(0,a.jsx)(n.code,{children:"ecosystem"})," sur l'ecid cr\xe9\xe9 ",(0,a.jsx)(n.code,{children:"18"})," et red\xe9marrons le programme de console de ligne\nde commande:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:">exit\nINFO[0002] Exit\n\n$ vim data/config.yml\n\n$ ibax-cli console\n\nWelcome to the IBAX console!\nTo exit, press ctrl-d or type exit\n>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-2-create-application",children:"\xc9tape 2 : Cr\xe9er une application"}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1NewApplication"})," pour cr\xe9er l'application, qui a un\nparam\xe8tre de nom d'application et un param\xe8tre de modification\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#access-rights-control-mechanism",children:"Param\xe8tre de Permission"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1  >callContract @1NewApplication {"Name": "GradesRecorder", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n2\n3  {\n4     "block_id": 1246,\n5     "hash": "85ab8953d26d0d1047fc610866115331babfaf88c80792d50b41826185c9f6f8",\n6     "penalty": 0,\n7     "err": "47"\n8  }\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Si vous devez modifier les autorisations de l'application, vous pouvez appeler\nle contrat ",(0,a.jsx)(n.code,{children:"EditApplication"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Ce qui suit est expliqu\xe9 par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Ligne 1, appelez le contrat @1NewApplication pour cr\xe9er une application, le\nnom de l'application est ",(0,a.jsx)(n.code,{children:"GradesRecorder"}),", la permission de modification de\nl'application est la permission du d\xe9veloppeur ",(0,a.jsx)(n.code,{children:"@1DeveloperCondition"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Ligne 4, l'ID de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 5, le hachage de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 6, si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)."}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 7, si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'ID de bloc est renvoy\xe9, le champ err contient l'ID de\nl'application qui est ",(0,a.jsx)(n.code,{children:"47"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\xc9crivons un exemple simple d'une application qui suit les notes des \xe9tudiants.\nLes champs de la table de donn\xe9es comprennent les informations sur l'\xe9tudiant,\nla note ",(0,a.jsx)(n.code,{children:"grade"}),", la classe ",(0,a.jsx)(n.code,{children:"class"}),", les notes de mati\xe8res\n",(0,a.jsx)(n.code,{children:"math\xe9matiques, physique, litt\xe9rature"}),", le score global ",(0,a.jsx)(n.code,{children:"overall_score"}),", la note\n",(0,a.jsx)(n.code,{children:"score"}),", le timestamp de cr\xe9ation (ms) ",(0,a.jsx)(n.code,{children:"created_at"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"step-3-create-table",children:"\xc9tape 3 : Cr\xe9er une table"}),"\n",(0,a.jsx)(n.p,{children:"Dans la premi\xe8re \xe9tape, nous r\xe9digeons un fichier de param\xe8tres de contrat au\nformat json :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "ApplicationId": 47,\n  "Name": "grade_info",\n  "ColumnsArr": [\n    "student",\n    "grade",\n    "class",\n    "mathematics",\n    "physics",\n    "literature",\n    "overall_score",\n    "score",\n    "created_at"\n  ],\n  "TypesArr": [\n    "varchar",\n    "number",\n    "number",\n    "number",\n    "number",\n    "number",\n    "number",\n    "varchar",\n    "number"\n  ],\n  "InsertPerm": "ContractConditions(\\"MainCondition\\")",\n  "UpdatePerm": "ContractConditions(\\"MainCondition\\")",\n  "ReadPerm": "true",\n  "NewColumnPerm": "ContractConditions(\\"MainCondition\\")"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["o\xf9 ",(0,a.jsx)(n.code,{children:"ApplicationId"})," est l'identifiant de l'application, ",(0,a.jsx)(n.code,{children:"Name"})," est le nom de la\ntable de donn\xe9es cr\xe9\xe9e ",(0,a.jsx)(n.code,{children:"test_table"}),". ",(0,a.jsx)(n.code,{children:"ColumnsArr"})," est un tableau de champs de la\ntable de donn\xe9es, ",(0,a.jsx)(n.code,{children:"TypesArr"})," est le type des champs de la table de donn\xe9es,\ncomprenant 9 ",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#tables",children:"types"})," ",(0,a.jsx)(n.code,{children:"varchar"}),",\n",(0,a.jsx)(n.code,{children:"character"}),", ",(0,a.jsx)(n.code,{children:"json"}),", ",(0,a.jsx)(n.code,{children:"number"}),", ",(0,a.jsx)(n.code,{children:"datetime"}),", ",(0,a.jsx)(n.code,{children:"double"}),", ",(0,a.jsx)(n.code,{children:"money"}),", ",(0,a.jsx)(n.code,{children:"text"}),", ",(0,a.jsx)(n.code,{children:"bytea"}),",\nle nom du champ et le type de champ sont en correspondance un \xe0 un. ",(0,a.jsx)(n.code,{children:"InsertPerm"}),"\npour la permission de nouvelle entr\xe9e dans la table de donn\xe9es, ",(0,a.jsx)(n.code,{children:"UpdatePerm"}),"\npour la permission de mise \xe0 jour des entr\xe9es de la table de donn\xe9es, ",(0,a.jsx)(n.code,{children:"ReadPerm"}),"\npour la permission de lecture des donn\xe9es de la table de donn\xe9es,\n",(0,a.jsx)(n.code,{children:"NewColumnPerm"})," pour la permission de nouveau champ de la table de donn\xe9es."]}),"\n",(0,a.jsxs)(n.p,{children:["En r\xe9f\xe9rence au\n",(0,a.jsx)(n.a,{href:"/docs/fr/concepts/about-the-platform#access-rights-control-mechanism",children:"Contr\xf4le des autorisations"}),",\nici ",(0,a.jsx)(n.code,{children:'ContractConditions(\\"MainCondition\\")'})," est disponible pour le cr\xe9ateur de\nl'\xe9cosyst\xe8me actuel."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous l'appelons createTable.json, puis nous appelons le contrat pour cr\xe9er la\ntable de donn\xe9es ",(0,a.jsx)(n.code,{children:"@1NewTableJoint"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:">callContract @1NewTableJoint -f ./createTestTable.json\n"})}),"\n",(0,a.jsx)(n.h4,{id:"modify-data-table-field-permissions",children:"Modifier les autorisations des champs de la table de donn\xe9es"}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons modifier les autorisations des champs de la table de donn\xe9es. Les\nautorisations des champs de la table de donn\xe9es comprennent les autorisations de\nlecture et de mise \xe0 jour. Les autorisations de lecture permettent d'utiliser le\nfiltre ",(0,a.jsx)(n.code,{children:"DBFind.Columns"})," dans le contrat ou des interfaces telles que\n",(0,a.jsx)(n.a,{href:"/docs/fr/reference/api2#list-name-limit-offset-columns",children:"list"}),' pour effectuer des\nrequ\xeates. Si aucune autorisation n\'est accord\xe9e, une erreur de permission sera\nsignal\xe9e. La permission de mise \xe0 jour est la permission de modifier les champs\nde la table de donn\xe9es. Nous avons d\xe9fini les autorisations de lecture et de\nmise \xe0 jour du champ "student" sur "false", mais bien s\xfbr, elles peuvent \xeatre\nrendues op\xe9rationnelles par certains contrats. Appelez le contrat ',(0,a.jsx)(n.code,{children:"@1EditColumn"}),"\npour modifier les autorisations des champs de la table de donn\xe9es."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1EditColumn {"TableName": "grade_info", "Name": "student", "UpdatePerm": "false", "ReadPerm": "false"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons cr\xe9er plusieurs param\xe8tres d'application : ",(0,a.jsx)(n.code,{children:"grade_best_type"}),",\n",(0,a.jsx)(n.code,{children:"grade_type_a+"}),", ",(0,a.jsx)(n.code,{children:"grade_type_a"}),", ",(0,a.jsx)(n.code,{children:"grade_type_b+"}),", ",(0,a.jsx)(n.code,{children:"grade_type_b"}),",\n",(0,a.jsx)(n.code,{children:"grade_type_c"}),", type de notation des grades."]}),"\n",(0,a.jsx)(n.h3,{id:"step-4-create-application-parameters",children:"\xc9tape 4 : Cr\xe9er les param\xe8tres de l'application"}),"\n",(0,a.jsxs)(n.p,{children:["Appelez le contrat ",(0,a.jsx)(n.code,{children:"@1NewAppParam"})," pour cr\xe9er les param\xe8tres de l'application.\nSi vous souhaitez modifier les param\xe8tres de l'application, vous pouvez appeler\nle contrat ",(0,a.jsx)(n.code,{children:"@1EditAppParam"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_best_type", "Value": "A+", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a+", "Value": "{\\"max\\": 101,\\"min\\": 90}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_a", "Value": "{\\"max\\": 90,\\"min\\": 80}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b+", "Value": "{\\"max\\": 80,\\"min\\": 70}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_b", "Value": "{\\"max\\": 70,\\"min\\": 60}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n>callContract @1NewAppParam {"ApplicationId": 47, "Name": "grade_type_c", "Value": "{\\"max\\": 60,\\"min\\": 0}", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 ",(0,a.jsx)(n.code,{children:"grade_best_type"})," est le meilleur type de notation."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"grade_type_a+"})," est la condition d\xe9clench\xe9e par la notation ",(0,a.jsx)(n.code,{children:"A+"}),", lorsque le\nscore est sup\xe9rieur ou \xe9gal \xe0 90 et inf\xe9rieur \xe0 101, la notation est ",(0,a.jsx)(n.code,{children:"A+"}),", les\nautres param\xe8tres sont similaires."]}),"\n",(0,a.jsx)(n.h3,{id:"step-5-create-contract-deploy-contract",children:"\xc9tape 5 : Cr\xe9er un contrat et le d\xe9ployer."}),"\n",(0,a.jsx)(n.p,{children:"Nous cr\xe9ons un contrat pour enregistrer les informations de notes des \xe9tudiants\net leur note finale pour chaque mati\xe8re, et nous saisissons la classe et la note\nde l'\xe9tudiant pour chaque mati\xe8re lors de la saisie des informations."}),"\n",(0,a.jsxs)(n.p,{children:["En fonction des notes saisies pour chaque mati\xe8re, nous effectuons un calcul de\nmoyenne pour obtenir la note globale ",(0,a.jsx)(n.code,{children:"overallScore"})," et la note finale ",(0,a.jsx)(n.code,{children:"score"}),".\nLorsque le contrat est appel\xe9, il cr\xe9era un enregistrement dans la table de\ndonn\xe9es que nous venons de cr\xe9er ",(0,a.jsx)(n.code,{children:"grade_info"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["D'abord, nous \xe9crivons un contrat et le nommons ",(0,a.jsx)(n.code,{children:"NewRecord.sim"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1 contract NewRecord {\n2       data {\n3         Student string\n4         Grade int\n5         Class int\n6         Mathematics int\n7         Physics int\n8         Literature int\n9       }\n10     func getScore(a b c int) map{\n11          var m map\n12          var overallScore int\n13          overallScore = (a+b+c) / 3\n14          m["overallScore"] = overallScore\n15          if overallScore >= $gradeTypeABest["min"] && overallScore < $gradeTypeABest["max"] {\n16              m["score"] = "A+"\n17          }elif overallScore >= $gradeTypeA["min"] && overallScore < $gradeTypeA["max"] {\n18              m["score"] = "A"\n19          }elif overallScore >= $gradeTypeBBest["min"] && overallScore < $gradeTypeBBest["max"] {\n20              m["score"] = "B+"\n21          }elif overallScore >= $gradeTypeB["min"] && overallScore < $gradeTypeB["max"] {\n22              m["score"] = "B"\n23          }elif overallScore >= $gradeTypeC["min"] && overallScore < $gradeTypeC["max"]{\n24              m["score"] = "C"\n25          }else{\n26              m["score"] = "Notset"\n27          }\n28          return m\n29      }\n30      func safeJsonDecode(m string) map {\n31          var res map\n32          if Size(m) > 0 {\n33             res = JSONDecode(m)\n34          }\n35          return res\n36      }\n37\n38      conditions {\n39          if Size($Student) == 0 {\n40            warning "Student Can not be empty"\n41          }\n42          if $Class <= 0{\n43              warning "Class cannot be less than or equal to zero"\n44          }\n45          if $Grade <= 0{\n46              warning "Grade cannot be less than or equal to zero"\n47          }\n48          if $Mathematics < 0 {\n49              warning "Mathematics cannot be less than zero"\n50          }\n51          if $Physics < 0 {\n52              warning "Physics cannot be less than zero"\n53          }\n54          if $Literature < 0 {\n55              warning "Literature cannot be less than zero"\n56          }\n57          if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\n58              warning "Score cannot exceed 100"\n59          }\n60          var app map\n61          app = DBFind("@1applications").Columns("id,ecosystem").Where({"ecosystem": 18,"name":"GradesRecorder","deleted":0}).Row()\n62          if !app {\n63              warning LangRes("@1app_not_found")\n64          }\n65\n66          var app_id int\n67          app_id = Int(app["id"])\n68          $eId = Int(app["ecosystem"])\n69          $gradeBestType = AppParam(app_id, "grade_best_type", $eId)\n70          $gradeTypeABest = safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))\n71          $gradeTypeA = safeJsonDecode(AppParam(app_id, "grade_type_a", $eId))\n72          $gradeTypeBBest = safeJsonDecode(AppParam(app_id, "grade_type_b+", $eId))\n73          $gradeTypeB = safeJsonDecode(AppParam(app_id, "grade_type_b", $eId))\n74          $gradeTypeC = safeJsonDecode(AppParam(app_id, "grade_type_c", $eId))\n75      }\n76      action {\n77          var m map\n78          m = getScore($Mathematics,$Physics,$Literature)\n79          var in map\n80          in["student"] = $Student\n81          in["class"] = $Class\n82          in["grade"] = $Grade\n83          in["mathematics"] = $Mathematics\n84          in["physics"] = $Physics\n85          in["literature"] = $Literature\n86          in["overall_score"] = m["overallScore"]\n87          in["score"] = m["score"]\n88          in["created_at"] = $time\n89          DBInsert("@"+ Str($eId)+"grade_info", in)\n90      }\n91  }\n'})}),"\n",(0,a.jsx)(n.p,{children:"Ce qui suit est expliqu\xe9 par ligne:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Ligne 2, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#data-section",children:"section des donn\xe9es"})," d\xe9finit les\nparam\xe8tres d'entr\xe9e ",(0,a.jsx)(n.code,{children:"Student"})," nom de l'\xe9tudiant, ",(0,a.jsx)(n.code,{children:"Grade"})," classe, ",(0,a.jsx)(n.code,{children:"Class"}),"\nclasse, ",(0,a.jsx)(n.code,{children:"Mathematics"})," score en math\xe9matiques, ",(0,a.jsx)(n.code,{children:"Physics"})," score en physique,\n",(0,a.jsx)(n.code,{children:"Literature"})," score en litt\xe9rature."]}),"\n",(0,a.jsx)(n.li,{children:"Ligne 10, la fonction getScore, produit un score composite et une note finale\nbas\xe9e sur le score de chaque mati\xe8re."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 30, la fonction safeJsonDecode, d\xe9code la cha\xeene JSON et la convertit en\nmap."}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 38, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#conditions-section",children:"section conditionnelle"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 39, ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#action-section",children:"section des op\xe9rations"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Comme vous pouvez le voir, lorsque le contrat est appel\xe9, il passe d'abord par\nla partie conditionnelle, v\xe9rifiant que les param\xe8tres d'entr\xe9e du contrat sont\nvalides, tels que le nom de l'\xe9tudiant ",(0,a.jsx)(n.code,{children:"if Size($Student) == 0 {"})," est vide\n(ligne 39), et s'il l'est, un message d'erreur est renvoy\xe9\n",(0,a.jsx)(n.code,{children:'"L\'\xe9tudiant ne peut pas \xeatre vide"'})," (ligne 30). Apr\xe8s avoir v\xe9rifi\xe9 tous les\nparam\xe8tres d'entr\xe9e, \xe0 la ligne 61, utilisez\n",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#dbfind",children:"DBFind"})," pour r\xe9cup\xe9rer les informations de la base\nde donn\xe9es pour l'application avec l'ecid ",(0,a.jsx)(n.code,{children:"18"})," et le nom de l'application\n",(0,a.jsx)(n.code,{children:"GradesRecorder"})," et les informations de l'application avec ",(0,a.jsx)(n.code,{children:"deleted=0"})," ne sont\npas supprim\xe9es."]}),"\n",(0,a.jsxs)(n.p,{children:["Aux lignes 69-74, utilisez ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#appparam",children:"AppParam"})," pour\nr\xe9cup\xe9rer les param\xe8tres de l'application, par exemple\n",(0,a.jsx)(n.code,{children:'$gradeBestType = AppParam(app_id, "grade_best_type", $ eId)'})," (ligne 69)."]}),"\n",(0,a.jsxs)(n.p,{children:["Si le param\xe8tre de l'application est stock\xe9 au format json, tel que\n",(0,a.jsx)(n.code,{children:"grade_type_a"}),", vous pouvez vous r\xe9f\xe9rer \xe0\n",(0,a.jsx)(n.code,{children:'$gradeTypeABest = safeJsonDecode(AppParam(app_id, "grade_type_a+", $eId))'}),", qui\nobtiendra le param\xe8tre de l'application par la fonction safeJsonDecode au format\nmap."]}),"\n",(0,a.jsxs)(n.p,{children:["Ensuite, passez \xe0 la partie op\xe9rationnelle, appelez la fonction getScore pour\nobtenir le score composite r\xe9sultant et la note finale (ligne 10), utilisez une\nmap pour stocker, ligne 79, d\xe9finissez une map pour stocker les informations de\nr\xe9ussite de l'\xe9tudiant, et ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/script#dbinsert",children:"DBInsert"})," Ins\xe9rez les\ndonn\xe9es dans la table de donn\xe9es ",(0,a.jsx)(n.code,{children:"@18grade_info"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Il existe deux fa\xe7ons de cr\xe9er un contrat, la premi\xe8re consiste \xe0: Tout d'abord,\nnous \xe9crivons un fichier de param\xe8tres de contrat au format json:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "ApplicationId": 47,\n  "Value": "contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] && overallScore < $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] && overallScore < $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] && overallScore < $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] && overallScore < $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] && overallScore < $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class <= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade <= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics < 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics < 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature < 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}",\n  "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 ",(0,a.jsx)(n.code,{children:"ApplicationId"})," est l'identifiant de l'application, qui doit \xeatre \xe9chapp\xe9\npour les caract\xe8res sp\xe9ciaux, et ",(0,a.jsx)(n.code,{children:"Conditions"})," est la permission de modification\ndu contrat."]}),"\n",(0,a.jsxs)(n.p,{children:["Code source du contrat ",(0,a.jsx)(n.code,{children:"Value"}),", que nous enregistrons sous le nom\n",(0,a.jsx)(n.code,{children:"NewRecordParams.json"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Apr\xe8s avoir r\xe9dig\xe9 le contrat, nous devons le d\xe9ployer en appelant\nCreateContract",(0,a.jsx)(n.code,{children:"@1NewContract"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1    >>callContract @1NewContract -f=./data/NewRecordParams.json\n2    {\n3        "block_id": 1262,\n4        "hash": "d896f12f685835f6cf71705e1ba...4d8bcc0a1406f7b0b6482b2d230fc",\n5        "penalty": 0,\n6        "err": "348"\n7    }\n'})}),"\n",(0,a.jsx)(n.p,{children:"La ligne suivante est expliqu\xe9e par ligne :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Ligne 1 : appeler le contrat ",(0,a.jsx)(n.code,{children:"@1NewContract"})," pour cr\xe9er le contrat, -f utilise\nle fichier pour importer le fichier ",(0,a.jsx)(n.code,{children:"NewRecord.json"})," nouvellement cr\xe9\xe9 en tant\nque param\xe8tre du contrat."]}),"\n",(0,a.jsx)(n.li,{children:"Ligne 3 : l'identifiant de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 4 : le hachage de bloc g\xe9n\xe9r\xe9 par la transaction."}),"\n",(0,a.jsx)(n.li,{children:"Ligne 5 : si l'ex\xe9cution de la transaction \xe9choue (0 : pas de p\xe9nalit\xe9, 1 :\np\xe9nalit\xe9)."}),"\n",(0,a.jsxs)(n.li,{children:["Ligne 6 : si l'ex\xe9cution de la transaction \xe9choue, un message d'erreur est\nrenvoy\xe9, et si l'identifiant de bloc est renvoy\xe9, le champ d'erreur contient\nl'identifiant du contrat qui est ",(0,a.jsx)(n.code,{children:"348"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Deuxi\xe8me m\xe9thode : Le fichier source du contrat enregistr\xe9 est directement\ntransmis aux param\xe8tres du contrat dans le format de param\xe8tre ",(0,a.jsx)(n.code,{children:"nomParam\xe8tre"})," +\n",(0,a.jsx)(n.code,{children:"-"}),' + "fichier", ',(0,a.jsx)(n.code,{children:"nomParam\xe8tre-fichier"})," comme suit :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'callContract @1NewContract {"ApplicationId": 47, "Value-file": "NewRecord.sim", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\ ")"}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Essayons d'appeler le contrat que nous venons de cr\xe9er."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2\n3  {\n4     "block_id": 1263,\n5     "hash": "1b964a47fe6c5fd43ea55a752d01edb5ad576432fd6f63315344d87999a0473d",\n6     "penalty": 0,\n7     "err": ""\n8  }\n'})}),"\n",(0,a.jsx)(n.p,{children:"The call is complete, and then we check to see if the data table has saved a\nrecord"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>getList @18grade_info\n{\n    "count": 1,\n    "list": [\n        {\n            "class": "1",\n            "created_at": "1683698914109",\n            "grade": "1",\n            "id": "9",\n            "literature": "93",\n            "mathematics": "18",\n            "overall_score": "56",\n            "physics": "57",\n            "score": "C",\n            "student": "tom"\n        }\n    ]\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Vous pouvez voir qu'il y a d\xe9j\xe0 un enregistrement dans la table de donn\xe9es,\n",(0,a.jsx)(n.code,{children:"student"})," tom avec une note globale de 56 et une note de C."]}),"\n",(0,a.jsx)(n.p,{children:"L'exemple ci-dessus est uniquement \xe0 des fins d'\xe9tude et de recherche, vous\ndevez modifier les param\xe8tres pertinents en fonction de la situation r\xe9elle,\ntels que la permission d'\xe9criture dans la table de donn\xe9es, la permission de\nmodification de contrat, etc."}),"\n",(0,a.jsxs)(n.p,{children:["Par exemple, si nous voulons sp\xe9cifier qu'une seule personne peut appeler ce\nnouveau contrat et que personne d'autre ne peut l'appeler, nous pouvons d\xe9finir\nun param\xe8tre \xe9cologique ",(0,a.jsx)(n.code,{children:"new_record_account"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"step-6-create-ecosystem-parameters",children:"\xc9tape 6 : Cr\xe9er des param\xe8tres \xe9cologiques"}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1NewParameter"})," cr\xe9era l'\xe9co-param\xe8tre ",(0,a.jsx)(n.code,{children:"new_record_account"}),"\ndans la table ",(0,a.jsx)(n.code,{children:"@1parameters"}),". Si vous avez besoin de modifier l'\xe9co-param\xe8tre,\nvous pouvez appeler ",(0,a.jsx)(n.code,{children:"@1EditParameter"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>callContract @1NewParameter {"Name": "new_record_account", "Value": "6667782293976713160", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n\n{\n    "block_id": 1416,\n    "hash": "12fc87ce6a70e2fc993ab9ffe623311f1c50edd1157595ce6183c38c93960cae",\n    "penalty": 0,\n    "err": "273"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Nous cr\xe9ons un param\xe8tre d'\xe9cosyst\xe8me appel\xe9 ",(0,a.jsx)(n.code,{children:"new_record_account"}),", nous\nd\xe9finissons la valeur sur la cl\xe9Id ",(0,a.jsx)(n.code,{children:"6667782293976713160"}),", nous modifions les\npermissions pour ",(0,a.jsx)(n.code,{children:'ContractConditions("MainCondition")'}),', ce qui signifie que le\ncr\xe9ateur \xe9cologique actuel peut modifier. Lorsque la transaction est ex\xe9cut\xe9e\navec succ\xe8s, l\'identifiant du param\xe8tre \xe9cologique dans le champ "err" est\n',(0,a.jsx)(n.code,{children:"273"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"step-7-add-localization",children:"\xc9tape 7 : ajouter la localisation"}),"\n",(0,a.jsxs)(n.p,{children:["Vous pouvez appeler le contrat ",(0,a.jsx)(n.code,{children:"@1NewLangJoint"})," pour cr\xe9er le param\xe8tre de\nlocalisation ",(0,a.jsx)(n.code,{children:"account_not_access"}),", qui cr\xe9era le param\xe8tre dans la table\n",(0,a.jsx)(n.code,{children:"@1languages"}),", et vous pouvez modifier le param\xe8tre de localisation via\n",(0,a.jsx)(n.code,{children:"@1EditLangJoint"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'callContract @1NewLangJoint {"Name": "account_not_access", "LocaleArr": ["en", "ja"], "ValueArr": ["Sorry, you do not have access to this action", "\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3053\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093"]}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-8-modify-the-contract",children:"\xc9tape 8 Modifier le contrat"}),"\n",(0,a.jsxs)(n.p,{children:["Ensuite, nous devons modifier la section ",(0,a.jsx)(n.code,{children:"conditions"})," du code source du contrat\nen ajoutant le code suivant aux ",(0,a.jsx)(n.code,{children:"conditions"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'conditions {\n  if EcosysParam("new_record_account") != $key_id {\n      warning LangRes("account_not_access")\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Appeler pour modifier le contrat @1EditContract, o\xf9 ",(0,a.jsx)(n.code,{children:"Id"})," est l'identifiant du\ncontrat, ",(0,a.jsx)(n.code,{children:"Value"})," est le code source du contrat."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>callContract @1EditContract {"Id": 348, "Value": "contract NewRecord {\\n    data {\\n        Student string\\n        Grade int\\n        Class int\\n        Mathematics int\\n        Physics int\\n        Literature int\\n    }\\n    func getScore(a b c int) map{\\n        var m map\\n        var overallScore int\\n        overallScore = (a+b+c) / 3\\n        m[\\"overallScore\\"] = overallScore\\n        if overallScore >= $gradeTypeABest[\\"min\\"] && overallScore < $gradeTypeABest[\\"max\\"] {\\n            m[\\"score\\"] = \\"A+\\"\\n        }elif overallScore >= $gradeTypeA[\\"min\\"] && overallScore < $gradeTypeA[\\"max\\"] {\\n            m[\\"score\\"] = \\"A\\"\\n        }elif overallScore >= $gradeTypeBBest[\\"min\\"] && overallScore < $gradeTypeBBest[\\"max\\"] {\\n            m[\\"score\\"] = \\"B+\\"\\n        }elif overallScore >= $gradeTypeB[\\"min\\"] && overallScore < $gradeTypeB[\\"max\\"] {\\n            m[\\"score\\"] = \\"B\\"\\n        }elif overallScore >= $gradeTypeC[\\"min\\"] && overallScore < $gradeTypeC[\\"max\\"]{\\n            m[\\"score\\"] = \\"C\\"\\n        }else{\\n            m[\\"score\\"] = \\"Notset\\"\\n        }\\n        return m\\n    }\\n    func safeJsonDecode(m string) map {\\n        var res map\\n        if Size(m) > 0 {\\n            res = JSONDecode(m)\\n        }\\n        return res\\n    }\\n\\n    conditions {\\n        if EcosysParam(\\"new_record_account\\") != $key_id {\\n            warning LangRes(\\"account_not_access\\")\\n        }\\n        if Size($Student) == 0 {\\n            warning \\"Student Can not be empty\\"\\n        }\\n        if $Class <= 0{\\n            warning \\"Class cannot be less than or equal to zero\\"\\n        }\\n         if $Grade <= 0{\\n            warning \\"Grade cannot be less than or equal to zero\\"\\n        }\\n        if $Mathematics < 0 {\\n            warning \\"Mathematics cannot be less than zero\\"\\n        }\\n        if $Physics < 0 {\\n            warning \\"Physics cannot be less than zero\\"\\n        }\\n        if $Literature < 0 {\\n            warning \\"Literature cannot be less than zero\\"\\n        }\\n        if $Mathematics > 100 || $Physics > 100 ||  $Literature > 100{\\n            warning \\"Score cannot exceed 100\\"\\n        }\\n        var app map\\n        app = DBFind(\\"@1applications\\").Columns(\\"id,ecosystem\\").Where({\\"ecosystem\\": 18,\\"name\\":\\"GradesRecorder\\",\\"deleted\\":0}).Row()\\n        if !app {\\n            warning LangRes(\\"@1app_not_found\\")\\n        }\\n\\n        var app_id int\\n        app_id = Int(app[\\"id\\"])\\n        $eId = Int(app[\\"ecosystem\\"])\\n        $gradeBestType = AppParam(app_id, \\"grade_best_type\\", $eId)\\n        $gradeTypeABest = safeJsonDecode(AppParam(app_id, \\"grade_type_a+\\", $eId))\\n        $gradeTypeA = safeJsonDecode(AppParam(app_id, \\"grade_type_a\\", $eId))\\n        $gradeTypeBBest = safeJsonDecode(AppParam(app_id, \\"grade_type_b+\\", $eId))\\n        $gradeTypeB = safeJsonDecode(AppParam(app_id, \\"grade_type_b\\", $eId))\\n        $gradeTypeC = safeJsonDecode(AppParam(app_id, \\"grade_type_c\\", $eId))\\n    }\\n    action {\\n        var m map \\n        m = getScore($Mathematics,$Physics,$Literature)\\n        var in map\\n        in[\\"student\\"] = $Student\\n        in[\\"class\\"] = $Class\\n        in[\\"grade\\"] = $Grade\\n        in[\\"mathematics\\"] = $Mathematics\\n        in[\\"physics\\"] = $Physics \\n        in[\\"literature\\"] = $Literature \\n        in[\\"overall_score\\"] = m[\\"overallScore\\"]\\n        in[\\"score\\"] = m[\\"score\\"]\\n        in[\\"created_at\\"] = $time\\n        DBInsert(\\"@\\"+ Str($eId)+\\"grade_info\\", in)\\n    }\\n}"}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"step-9-modify-data-table-permissions",children:"\xc9tape 9 Modifier les autorisations de la table de donn\xe9es"}),"\n",(0,a.jsxs)(n.p,{children:["Ici, nous devons modifier l'autorisation d'insertion de la table de donn\xe9es,\nl'autorisation d'origine ",(0,a.jsx)(n.code,{children:'ContractConditions("MainCondition")'})," pour l'\xe9cr\xe9ateur,\net le param\xe8tre de contrat ",(0,a.jsx)(n.code,{children:"new_record_account"})," n'est pas l'\xe9cr\xe9ateur."]}),"\n",(0,a.jsxs)(n.p,{children:["Donc, il suffit de modifier ",(0,a.jsx)(n.code,{children:'ContractConditions("MainCondition")'})," pour sp\xe9cifier\nque le contrat peut op\xe9rer sur ",(0,a.jsx)(n.code,{children:'ContractAccess("@18NewRecord")'}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Appelez le contrat ",(0,a.jsx)(n.code,{children:"@1EditTable"})," pour modifier les autorisations de la table de\ndonn\xe9es."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>callContract @1EditTable {"Name": "@18grade_info", "InsertPerm": "ContractAccess(\\"@18NewRecord\\")", "UpdatePerm": "ContractConditions(\\"MainCondition\\")", "ReadPerm": "true", "NewColumnPerm": "ContractConditions(\\"MainCondition\\")"}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Ensuite, appelez le contrat que vous venez de modifier et cr\xe9ez un nouvel\nenregistrement."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'1  >callContract @18NewRecord {"Student": "tom", "Grade": 1, "Class": 1, "Mathematics": 18, "Physics": 57, "Literature": 93}\n2\n3  {\n4      "block_id": 1435,\n5      "hash": "7d4b06d3738133f9c2ec775935478cd2d6c20fd04eca275769afd0f8e6a4f687",\n6      "penalty": 1,\n7      "err": "{\\"type\\":\\"warning\\",\\"error\\":\\"Sorry, you do not have access to this action\\"}"\n8  }\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Vous pouvez voir que le param\xe8tre de localisation que nous venons de d\xe9finir,\n",(0,a.jsx)(n.code,{children:"account_not_access"}),", fonctionne."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous avons constat\xe9 que l'erreur de permission est signal\xe9e, l'utilisateur\nactuel n'a pas l'autorisation d'effectuer des op\xe9rations. Nous passons au compte\navec l'identifiant de cl\xe9 ",(0,a.jsx)(n.code,{children:"6667782293976713160"})," et nous pouvons obtenir les\ninformations de l'utilisateur actuel \xe0 l'aide de l'outil en ligne de commande\n",(0,a.jsx)(n.code,{children:"account info"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Configurez le fichier de configuration de l'outil en ligne de commande\nconfig.yml et passez au compte avec l'identifiant de cl\xe9 ",(0,a.jsx)(n.code,{children:"6667782293976713160"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Une fois la configuration termin\xe9e, appelez \xe0 nouveau le contrat."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'>callContract @18NewRecord {"Student": "tini", "Grade": 1, "Class": 3, "Mathematics": 69, "Physics": 89, "Literature": 98}\n\n{\n    "block_id": 1436,\n    "hash": "93327dafb7bae9f9f66718eb87020a7bca4c00060f4bd0a243b49eea304c52e6",\n    "penalty": 0,\n    "err": ""\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["L'appel est termin\xe9, interrogeant la table de donn\xe9es via\n",(0,a.jsx)(n.code,{children:"getList @18grade_info"}),", et le r\xe9sultat est conforme aux attentes."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous esp\xe9rons que cet article vous a aid\xe9 \xe0 en savoir plus sur le fonctionnement\ndu r\xe9seau IBAX et sur la fa\xe7on d'\xe9crire un code ",(0,a.jsx)(n.code,{children:"Needle"})," clair et s\xe9curis\xe9."]}),"\n",(0,a.jsx)(n.h2,{id:"deploy-application-using-command-line-tools",children:"D\xe9ployer une application \xe0 l'aide d'outils en ligne de commande"}),"\n",(0,a.jsx)(n.p,{children:"Dans ce tutoriel, vous apprendrez comment :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#export-application",children:"Exporter une application"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#import-application",children:"Importer une application"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Avant de commencer ce tutoriel, vous devez avoir votre propre application et\nconna\xeetre le concept d'\xe9cosyst\xe8me et d'application. Vous pouvez vous r\xe9f\xe9rer au\n",(0,a.jsx)(n.a,{href:"#getting-started-guide",children:"Guide de d\xe9marrage"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous importerons l'application sur la blockchain IBAX via l'outil en ligne de\ncommande ",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/ibax-cli",children:"ibax-cli"}),". Exporter une\napplication."]}),"\n",(0,a.jsx)(n.h3,{id:"export-application",children:"Exporter l'application"}),"\n",(0,a.jsxs)(n.p,{children:["Appeler ",(0,a.jsx)(n.code,{children:"account info"})," pour interroger les informations du compte actuel, ici le\nlogin ecid est ",(0,a.jsx)(n.code,{children:"9"}),", appeler la commande ",(0,a.jsx)(n.code,{children:"getList"})," pour interroger les\napplications associ\xe9es \xe0 l'ecid actuel."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'$ ibax-cli console\n\nWelcome to the IBAX console!\nTo exit, press ctrl-d or type exit\n>account info\n{\n    "public_key": "04d11ea197fe23152562c6f54c4...889c074dfd9080099982d8b2d4d100315e1cebc7",\n    "ecosystem_id": 9,\n    "key_id": 6660819...78795186,\n    "account": "0666-0819-...-7879-5186"\n}\n\n>getList @1applications -w={"ecosystem": 9}\n\n{\n    "count": 6,\n    "list": [\n        {\n            "conditions": "true",\n            "deleted": "0",\n            "ecosystem": "9",\n            "id": "36",\n            "name": "testapp",\n            "uuid": "00000000-0000-0000-0000-000000000000"\n        }\n        ...\n    ]\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons voir que l'\xe9cosyst\xe8me actuel compte 6 applications. Nous utilisons\nla commande ",(0,a.jsx)(n.code,{children:"export"})," pour exporter l'application avec l'",(0,a.jsx)(n.code,{children:"id"})," de ",(0,a.jsx)(n.code,{children:"36"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>export 36 -f=./data.json\n\n{\n    "name": "./data.json",\n    "type": "application/json",\n    "value": ""\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Le param\xe8tre -f ici enregistre l'application export\xe9e dans le fichier\n",(0,a.jsx)(n.code,{children:"data.json"})," dans le r\xe9pertoire actuel. Si aucun param\xe8tre -f n'est sp\xe9cifi\xe9, les\ndonn\xe9es de l'application seront affich\xe9es dans le terminal de commande."]}),"\n",(0,a.jsxs)(n.p,{children:["La commande ",(0,a.jsx)(n.code,{children:"export"})," encapsule les \xe9tapes pour exporter une application. Vous\npouvez utiliser la commande ci-dessus pour exporter une application, ou suivre\nles \xe9tapes suivantes, comme suit :"]}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1ExportNewApp"})," pour exporter une nouvelle application\ng\xe9n\xe9rera un enregistrement dans la table ",(0,a.jsx)(n.code,{children:"1_buffer_data"})," pour l'application\nexport\xe9e."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1ExportNewApp {"ApplicationId": 36}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Appelez le contrat ",(0,a.jsx)(n.code,{children:"@1Export"})," pour exporter l'application, recherchez\nl'application s\xe9lectionn\xe9e dans la table ",(0,a.jsx)(n.code,{children:"1_buffer_data"}),", et exportez toutes les\nressources de l'application vers la cha\xeene JSON g\xe9n\xe9r\xe9e."]}),"\n",(0,a.jsxs)(n.p,{children:["La cha\xeene JSON g\xe9n\xe9r\xe9e sera \xe9crite dans la table ",(0,a.jsx)(n.code,{children:"1_binaries"})," de l'\xe9cosyst\xe8me\nactuel."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:">callContract @1Export\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Interrogez les donn\xe9es dans la table ",(0,a.jsx)(n.code,{children:"1_binaries"})," avec la commande ",(0,a.jsx)(n.code,{children:"getList"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1binaries -w={"name": "export", "account": "0666-0819-...-7879-5186", "ecosystem": 9, "app_id": 36} -l=1 -c="id,hash"\n\n{\n    "count": 1,\n    "list": [\n        {\n            "hash": "8542cb57b77e0ae2c...92c3e05dbbe35ab646789be5b8ba8",\n            "id": "14"\n        }\n    ]\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Obtenez l'identifiant binaire et le hachage."}),"\n",(0,a.jsxs)(n.p,{children:["Appelez la commande ",(0,a.jsx)(n.code,{children:"binaryVerify"})," pour exporter le fichier binaire."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>binaryVerify 14 8542cb57b77e0ae2c...92c3e05dbbe35ab646789be5b8ba8 -f=./data.json\n\n{\n    "name": "./data.json",\n    "type": "application/json",\n    "value": ""\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"import-application",children:"Importer l'application"}),"\n",(0,a.jsxs)(n.p,{children:["Utilisez la commande ",(0,a.jsx)(n.code,{children:"import"})," pour importer une application, avec le param\xe8tre\n",(0,a.jsx)(n.code,{children:"-f"})," pour sp\xe9cifier le fichier d'application \xe0 importer."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ ibax-cli console\n\nWelcome to the IBAX console!\nTo exit, press ctrl-d or type exit\n\n>import -f . /data.json\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"import"})," command encapsulates the steps to import an application, you can\nuse the above command to import an application"]}),"\n",(0,a.jsx)(n.p,{children:"Or use the following steps, which, for ease of study and research, are as\nfollows:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\xc9tape 1 : Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1ImportUpload"})," pour importer une nouvelle\napplication g\xe9n\xe9rera un enregistrement dans la table ",(0,a.jsx)(n.code,{children:"1_buffer_data"})," pour\nl'application export\xe9e. ",(0,a.jsx)(n.code,{children:"@1ImportUpload"})," Le param\xe8tre du contrat ",(0,a.jsx)(n.code,{children:"Data"})," est\n",(0,a.jsx)(n.code,{children:"file"})," ",(0,a.jsx)(n.a,{href:"/docs/fr/topics/vm#types",children:"type"}),". Il contient les mots-cl\xe9s ",(0,a.jsx)(n.code,{children:"Name"})," pour le\nnom du fichier (cha\xeene de caract\xe8res), ",(0,a.jsx)(n.code,{children:"MimeType"})," pour le type de fichier\n(cha\xeene de caract\xe8res), ",(0,a.jsx)(n.code,{children:"Body"})," pour le contenu du fichier ([]byte). Vous devez\nencoder en base64 les donn\xe9es du fichier de l'application et les passer dans\n",(0,a.jsx)(n.code,{children:"Body"}),", vous pouvez utiliser la commande ",(0,a.jsx)(n.code,{children:"base64Encode"})," pour les encoder en\nbase64."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>base64Encode -f=./data.json\n\nEncode:ewoJIm5hbWUiOiAid...CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6...\n\n>callContract @1ImportUpload {"Data": {"Name": "filename", "MimeType": "mimeType", "Body": "ewoJIm5hbWUiOiAid...CQkJIlR5cGUiOiAiY29udHJhY3RzIiwKCQkJIk5hbWUiOiAiSGVsbG9Xb3JsZCIsCgkJCSJWYWx1ZSI6..."}}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\xc9tape 2 : Apr\xe8s que l'appel est termin\xe9, utilisez la commande ",(0,a.jsx)(n.code,{children:"getList"})," pour\ninterroger les donn\xe9es dans la table ",(0,a.jsx)(n.code,{children:"1_buffer_data"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1buffer_data -w={"key": "import", "account": "0666-0819-xxxx-7879-5186", "ecosystem": 19} -l=1 -c=value->\'data\'\n\n{\n    "count": 1,\n    "list": [\n        {\n            "id": "22",\n            "value.data": "[{"Data": "[a,b]"}, {"Data": "[c,d]"}]"\n        }\n    ]\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\xc9tape 3 : Assemblez les donn\xe9es de value.data->Data dans un tableau\nunidimensionnel, [a,b,c,d]. Ensuite, cr\xe9ez un fichier de param\xe8tres de contrat\n",(0,a.jsx)(n.code,{children:"importParams.json"}),", avec le contenu suivant :"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{ "Data": "[a,b,c,d]" }\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\xc9tape 4 : Appelez le contrat ",(0,a.jsx)(n.code,{children:"@1Import"})," pour importer les donn\xe9es de\nl'application."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:">callContract @1Import -f=./importParams.json\n"})}),"\n",(0,a.jsx)(n.h2,{id:"ecosystem-configuration-using-command-line-tool",children:"Configuration \xe9cologique \xe0 l'aide d'un outil en ligne de commande"}),"\n",(0,a.jsx)(n.p,{children:"Dans ce tutoriel, vous apprendrez comment :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#apply-to-join-the-ecosystem",children:"Postuler pour rejoindre l'\xe9cosyst\xe8me"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#add-ecosystem-members",children:"Ajouter des membres de l'\xe9cosyst\xe8me"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#role-management",children:"Gestion des r\xf4les"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#issuance-of-token",children:"\xc9mission de jetons"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#eco-deduction",children:"D\xe9duction \xe9cologique"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.ol,{start:"6",children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#dao-governance-ecosystem",children:"\xc9cosyst\xe8me de gouvernance DAO"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Avant de commencer ce tutoriel, vous devez avoir votre propre application et\nconna\xeetre le concept d'\xe9cosyst\xe8me et d'application. Vous pouvez vous r\xe9f\xe9rer au\n",(0,a.jsx)(n.a,{href:"#getting-started-guide",children:"Guide de d\xe9marrage"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous allons effectuer la configuration \xe9cologique sur la blockchain IBAX via\nl'outil en ligne de commande ",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/ibax-cli",children:"ibax-cli"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"apply-to-join-the-ecosystem",children:"Postuler pour rejoindre l'\xe9cosyst\xe8me"}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons appeler le contrat ",(0,a.jsx)(n.code,{children:"@1MembershipRequest"})," pour demander \xe0 rejoindre\nl'\xe9cosyst\xe8me."]}),"\n",(0,a.jsx)(n.p,{children:"L'exemple suivant:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1MembershipRequest {"EcosystemId": 19}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Demande de rejoindre l'\xe9cosyst\xe8me avec l'identifiant \xe9cologique ",(0,a.jsx)(n.code,{children:"19"}),", le contrat\n",(0,a.jsx)(n.code,{children:"@1MembershipRequest"})," impose une restriction sur l'appel de l'\xe9cosyst\xe8me, seul\nl'\xe9cosyst\xe8me de base peut \xeatre appel\xe9."]}),"\n",(0,a.jsx)(n.p,{children:"Lorsque la demande est accept\xe9e, le gestionnaire de l'\xe9cosyst\xe8me cible recevra\nune demande et elle ne sera consid\xe9r\xe9e comme faisant partie de l'\xe9cosyst\xe8me\ncible que lorsque la demande sera approuv\xe9e par le gestionnaire de l'\xe9cosyst\xe8me."}),"\n",(0,a.jsx)(n.p,{children:"Bien s\xfbr, si l'\xe9cosyst\xe8me cible est public, vous pouvez le rejoindre\ndirectement."}),"\n",(0,a.jsx)(n.h3,{id:"add-ecosystem-members",children:"Ajouter des membres de l'\xe9cosyst\xe8me"}),"\n",(0,a.jsxs)(n.p,{children:["Lorsque l'\xe9cosyst\xe8me vient d'\xeatre cr\xe9\xe9, le seul membre de l'\xe9cosyst\xe8me est le\ncr\xe9ateur de l'\xe9cosyst\xe8me. Lorsque vous souhaitez inviter d'autres membres \xe0\nrejoindre, vous devez conna\xeetre la cl\xe9 publique de la personne invit\xe9e, puis\nappeler le contrat ",(0,a.jsx)(n.code,{children:"@1MembershipAdd"})," pour ajouter des membres."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1MembershipAdd {"Keys": "04f2c1780ca0aa0f343d0e541c77811...3b0d5bf3a9903253aad6e78c966b5f91ffb32703884020"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Si l'\xe9cosyst\xe8me est public et permet \xe0 n'importe qui de rejoindre, vous pouvez\nd\xe9finir le param\xe8tre de l'\xe9cosyst\xe8me ",(0,a.jsx)(n.code,{children:"free_membership"})," = 1, qui n'est pas public\npar d\xe9faut."]}),"\n",(0,a.jsx)(n.p,{children:"Une fois configur\xe9, vous n'avez pas besoin d'\xeatre approuv\xe9 pour rejoindre votre\n\xe9cosyst\xe8me."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1NewParameter {"Name": "free_membership", "Value": "1", "Conditions": "ContractConditions(\\"MainCondition\\")"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Si vous ne d\xe9finissez pas le param\xe8tre ",(0,a.jsx)(n.code,{children:"free_membership"}),", lorsque d'autres\nmembres demandent \xe0 rejoindre votre \xe9cosyst\xe8me, vous recevrez une notification\nde demande."]}),"\n",(0,a.jsxs)(n.p,{children:["Appelez l'application d'approbation du contrat ",(0,a.jsx)(n.code,{children:"@1MembershipDecide"}),", les\nparam\xe8tres du contrat ",(0,a.jsx)(n.code,{children:"NotificId"})," sont l'identifiant de la notification,\n'Accept' est la marque de r\xe9solution, la marque de r\xe9solution ",(0,a.jsx)(n.code,{children:"1"})," est accept\xe9e."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1MembershipDecide {"NotificId": 6, "Accept": 1}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"freezing-of-accounts",children:"Blocage des comptes"}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1DeleteMember"})," pour geler le compte, notez que cette\nop\xe9ration ne peut pas \xeatre restaur\xe9e."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1DeleteMember {"MemberAccount": "1539-2715-xxxx-1679-5385"}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"role-management",children:"Gestion des r\xf4les"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#new-role-creation",children:"Cr\xe9ation d'un nouveau r\xf4le"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#adding-role-members",children:"Ajouter un membre au r\xf4le"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#delete-role-members",children:"Supprimer un membre du r\xf4le"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#modify-role-manager",children:"Modifier le gestionnaire du r\xf4le"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#delete-role",children:"Supprimer le r\xf4le"})}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"new-role-creation",children:"Cr\xe9ation d'un nouveau r\xf4le"}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1RolesCreate"})," pour cr\xe9er un nouveau r\xf4le, nom du r\xf4le\n",(0,a.jsx)(n.code,{children:"student"}),", type ",(0,a.jsx)(n.code,{children:"2"})," (1 - Assignable 2 - \xc9lu par vote 3 - Syst\xe8me)."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesCreate {"Name": "student", "Type": 2}\n{\n    "block_id": 1685,\n    "hash": "5321f2231a...d0d80158b62766395f14d0ff7",\n    "penalty": 0,\n    "err": "21"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Le r\xe9sultat de retour contient l'identifiant de r\xf4le ",(0,a.jsx)(n.code,{children:"21"}),"."]}),"\n",(0,a.jsx)(n.h4,{id:"adding-role-members",children:"Ajout de membres de r\xf4le"}),"\n",(0,a.jsxs)(n.p,{children:["Il existe deux m\xe9thodes, la premi\xe8re m\xe9thode consiste \xe0 ce que le membre de\nl'\xe9cosyst\xe8me initie la demande d'application en appelant le contrat\n",(0,a.jsx)(n.code,{children:"@1RolesRequest"})," pour demander \xe0 \xeatre ajout\xe9 en tant que membre du r\xf4le, o\xf9\n",(0,a.jsx)(n.code,{children:"Rid"})," est l'identifiant du r\xf4le."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesRequest {"Rid": 21}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Dans la deuxi\xe8me m\xe9thode, le gestionnaire de r\xf4les attribue des membres de r\xf4le,\net le gestionnaire de r\xf4les appelle le contrat ",(0,a.jsx)(n.code,{children:"@1RolesAssign"})," pour ajouter des\nmembres au r\xf4le."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesAssign {"MemberAccount": "0666-7782-xxxx-7671- 3160", "Rid": 21}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"delete-role-members",children:"Supprimer les membres du r\xf4le"}),"\n",(0,a.jsx)(n.p,{children:"Tout d'abord, nous voyons quels membres un r\xf4le poss\xe8de, que nous pouvons\ninterroger via getList, comme suit:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1roles_participants -w={"ecosystem": 18, "role->id": "21", "deleted": 0}\n\n{\n    "count": 3,\n    "list": [\n        {\n            "appointed": "{\\"account\\": \\"1273-2644-xxxx-5846-6598\\", \\"image_id\\": \\"0\\", \\"member_name\\": \\"founder\\"}",\n            "date_created": "1684916023",\n            "date_deleted": "0",\n            "deleted": "0",\n            "ecosystem": "18",\n            "id": "21",\n            "member": "{\\"account\\": \\"1273-2644-xxxx-5846-6598\\", \\"image_id\\": \\"0\\", \\"member_name\\": \\"founder\\"}",\n            "role": "{\\"id\\": \\"20\\", \\"name\\": \\"teacher\\", \\"type\\": \\"1\\", \\"image_id\\": \\"0\\"}"\n        }\n        ...\n    ]\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 la condition ",(0,a.jsx)(n.code,{children:"where"})," ",(0,a.jsx)(n.code,{children:"ecosystem"})," sp\xe9cifie l'\xe9cosyst\xe8me, ",(0,a.jsx)(n.code,{children:"role->id"})," sp\xe9cifie\nl'identifiant du r\xf4le et ",(0,a.jsx)(n.code,{children:"deleted"}),": 0 sp\xe9cifie non supprim\xe9."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons voir que nous avons 3 lignes, si nous voulons supprimer le r\xf4le\navec le membre ",(0,a.jsx)(n.code,{children:"1273-2644-xxxx-5846-6598"}),", c'est-\xe0-dire le r\xf4le avec l'",(0,a.jsx)(n.code,{children:"id"})," de\n",(0,a.jsx)(n.code,{children:"21"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Les administrateurs peuvent appeler le contrat ",(0,a.jsx)(n.code,{children:"@1RolesUnassign"})," pour supprimer\nles membres du r\xf4le, comme suit:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesUnassign {"RowId": 21}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"modify-role-manager",children:"Modifier le gestionnaire de r\xf4les"}),"\n",(0,a.jsx)(n.p,{children:"Regardons les r\xf4les \xe9cologiques actuels :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1roles -w={"ecosystem": 18}\n\n{\n    "count": 5,\n    "list": [\n        {\n            "company_id": "0",\n            "creator": "{\\"account\\": \\"1273-2644-xxxx-5846-6598\\", \\"image_id\\": \\"0\\", \\"member_name\\": \\"founder\\"}",\n            "date_created": "1684910917",\n            "date_deleted": "0",\n            "default_page": "",\n            "deleted": "0",\n            "ecosystem": "18",\n            "id": "20",\n            "image_id": "0",\n            "role_name": "teacher",\n            "role_type": "1",\n            "roles_access": "[]"\n        }\n        ...\n    ]\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["o\xf9 ",(0,a.jsx)(n.code,{children:"roles_access"})," est le r\xf4le administratif pour le r\xf4le actuel, qui est un\ntableau et peut en avoir plusieurs."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous ajoutons un r\xf4le administratif au r\xf4le ",(0,a.jsx)(n.code,{children:"teacher"})," en appelant le contrat\n",(0,a.jsx)(n.code,{children:"@1RolesAccessManager"}),", o\xf9 les param\xe8tres du contrat sont ",(0,a.jsx)(n.code,{children:"Action"})," l'op\xe9rateur\nadministratif (",(0,a.jsx)(n.code,{children:"clean"}),", ",(0,a.jsx)(n.code,{children:"remove"}),", ",(0,a.jsx)(n.code,{children:"add"}),"), ",(0,a.jsx)(n.code,{children:"Rid"})," l'ID du r\xf4le \xe0 g\xe9rer,\n",(0,a.jsx)(n.code,{children:"ManagerRid"})," l'ID du gestionnaire de r\xf4le."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesAccessManager {"Action": "add", "Rid": 20, "ManagerRid": 13}\n\n{\n    "block_id": 1745,\n    "hash": "e2eb8ff0dc309ec7652db...bbbe58bca4ca574804e46c2f63653eb73104",\n    "penalty": 0,\n    "err": ""\n}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"delete-role",children:"Supprimer le r\xf4le"}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons appeler le contrat ",(0,a.jsx)(n.code,{children:"@1RolesDelete"})," pour supprimer des r\xf4les, o\xf9 les\nparam\xe8tres du contrat ",(0,a.jsx)(n.code,{children:"Rid"})," sont l'ID du r\xf4le \xe0 g\xe9rer et ",(0,a.jsx)(n.code,{children:"Ops"})," est l'op\xe9rateur\n(",(0,a.jsx)(n.code,{children:"D"})," pour supprimer, ",(0,a.jsx)(n.code,{children:"R"})," pour restaurer)."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1RolesDelete {"Rid": 24, "Ops": "D"}\n\n{\n    "block_id": 1785,\n    "hash": "1ebf99a04f504fc3d2...4ecfbdfc419bf3dbf39df0013dca913f844",\n    "penalty": 0,\n    "err": ""\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"issuance-of-token",children:"\xc9mission de jeton"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#create-ecosystem",children:"Cr\xe9er un \xe9cosyst\xe8me"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#installing-basic-applications",children:"Installer des applications de base"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#token-issuance",children:"\xc9mission de jetons"})}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"create-ecosystem",children:"Cr\xe9er un \xe9cosyst\xe8me"}),"\n",(0,a.jsxs)(n.p,{children:["Cr\xe9ez un \xe9cosyst\xe8me, appelez le contrat ",(0,a.jsx)(n.code,{children:"@1NewEcosystem"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1NewEcosystem {"Name": "Test Ecosystem"}\n{\n    "block_id": 1787,\n    "hash": "384f35ef93243c9dd4f53b9298873b356b25b31cf7c6a6be7600ee7694d77006",\n    "penalty": 0,\n    "err": "21"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:'Ensuite, nous modifions la configuration de l\'outil en ligne de commande pour se\nconnecter \xe0 cet \xe9cosyst\xe8me nouvellement cr\xe9\xe9 : "21".'}),"\n",(0,a.jsx)(n.h4,{id:"installing-basic-applications",children:"Installation des applications de base"}),"\n",(0,a.jsx)(n.p,{children:"Appelez le contrat pour installer l'application de base, comme suit :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'1  >callContract @1PlatformAppsInstall\n2  >callContract @1RolesInstall\n3  >callContract @1AppInstall {"ApplicationId": 5}\n4  >callContract @1AppInstall {"ApplicationId": 6}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Ligne 1, installez l'application de plateforme ;"}),"\n",(0,a.jsx)(n.p,{children:"Ligne 2, installez le r\xf4le par d\xe9faut ;"}),"\n",(0,a.jsxs)(n.p,{children:["Ligne 3-4, installez l'application de configuration \xe9cologique et d'\xe9mission de\njetons, o\xf9 l'ID de l'application ",(0,a.jsx)(n.code,{children:"5,6"})," peut \xeatre consult\xe9 via getList comme suit\n:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1applications -w={"ecosystem": 1, "$or": [{"name": "Token emission"},{"name": "Ecosystems catalog"}]} -c="name,ecosystem"\n\n{\n    "count": 2,\n    "list": [\n        {\n            "ecosystem": "1",\n            "id": "5",\n            "name": "Token emission"\n        },\n        {\n            "ecosystem": "1",\n            "id": "6",\n            "name": "Ecosystems catalog"\n        }\n    ]\n}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"token-issuance",children:"\xc9mission de jetons"}),"\n",(0,a.jsxs)(n.p,{children:["Parce qu'il s'agit d'un nouvel \xe9cosyst\xe8me, vous devez configurer l'\xe9mission de\njetons, appelez le contrat ",(0,a.jsx)(n.code,{children:"@1TeSettings"})," pour sp\xe9cifier les r\xf4les pouvant\n\xe9mettre des jetons."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1TeSettings {"RoleDeveloper": 30}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 ",(0,a.jsx)(n.code,{children:"RoleDeveloper"})," est l'identifiant actuel du r\xf4le \xe9cologique, qui peut \xeatre\nobtenu via la table de donn\xe9es ",(0,a.jsx)(n.code,{children:"@1roles"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\xc9mission de jetons"})," Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1NewToken"})," pour \xe9mettre des jetons."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1NewToken {"Symbol": "TEST", "Name": "TEST Coin", "Amount": "10000000000000000" ,"Digits": "12"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 les param\xe8tres du contrat ",(0,a.jsx)(n.code,{children:"Symbol"})," sont le symbole du jeton, ",(0,a.jsx)(n.code,{children:"Name"})," est le\nnom du jeton, ",(0,a.jsx)(n.code,{children:"Amount"})," est le montant total et ",(0,a.jsx)(n.code,{children:"Digits"})," est la pr\xe9cision."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\xc9mission de jetons"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1TeEmission {"Amount": 1000000000000}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"D\xe9truire les jetons"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1TeBurn {"Amount": 1000000000000}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Incr\xe9ment de jeton par d\xe9faut et destruction de jeton sont autoris\xe9s, vous\npouvez les d\xe9sactiver en utilisant ",(0,a.jsx)(n.code,{children:"@1TeChange"}),", o\xf9 ",(0,a.jsx)(n.code,{children:"TypeChange"})," est le type\n(",(0,a.jsx)(n.code,{children:"emission"})," pour l'incr\xe9ment, ",(0,a.jsx)(n.code,{children:"withdraw"})," pour la destruction)."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"Value"})," est l'\xe9tat activ\xe9/d\xe9sactiv\xe9 (",(0,a.jsx)(n.code,{children:"1"})," activ\xe9, ",(0,a.jsx)(n.code,{children:"2"})," d\xe9sactiv\xe9), par exemple:\n",(0,a.jsx)(n.strong,{children:"Ajouts ferm\xe9s"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Note: Ne peut pas \xeatre activ\xe9 apr\xe8s la fermeture."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1TeChange {"TypeChange": "emission", "Value": 2}\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"D\xe9sactiver la destruction"}),", si vous souhaitez r\xe9activer la destruction, il\nsuffit de d\xe9finir la valeur de ",(0,a.jsx)(n.code,{children:"Value"})," sur ",(0,a.jsx)(n.code,{children:"1"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1TeChange {"TypeChange": "withdraw", "Value": 2}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"eco-deduction",children:"D\xe9duction de l'\xe9cosyst\xe8me"}),"\n",(0,a.jsxs)(n.p,{children:["Avant de mettre en place des d\xe9ductions \xe9cologiques, vous devez comprendre le\nmod\xe8le de frais IBAX, qui peut \xeatre trouv\xe9 dans le\n",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/whitepaper",children:"livre blanc"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Nous commen\xe7ons par d\xe9finir l'adresse du portefeuille \xe9cologique, appelons le\ncontrat ",(0,a.jsx)(n.code,{children:"@1EditParameter"})," et modifions les param\xe8tres \xe9cologiques."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1EditParameter {"Id": 334, "Value": "1273-2644-xxxx-5846-6598"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 ",(0,a.jsx)(n.code,{children:"Id"})," est l'identifiant du param\xe8tre ",(0,a.jsx)(n.code,{children:"ecosystem_wallet"})," de l'ecowallet, qui\npeut \xeatre interrog\xe9 comme suit :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>getList @1parameters -w={"ecosystem": 22, "name": "ecosystem_wallet"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["La valeur ",(0,a.jsx)(n.code,{children:"Value"})," est l'adresse de l'ecowallet qui sera li\xe9e, et le contrat\ng\xe9n\xe8re les frais de gaz, qui sont pay\xe9s par cette adresse. L'adresse doit avoir\nsuffisamment de jetons dans l'\xe9cosyst\xe8me actuel et doit \xeatre approuv\xe9e par\nl'adresse li\xe9e avant que la modification ne soit r\xe9ussie."]}),"\n",(0,a.jsxs)(n.p,{children:["Appeler le contrat ",(0,a.jsx)(n.code,{children:"@1EcoFeeModeManage"})," pour configurer la d\xe9duction\nmulti-\xe9cologique, comme suit :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1EcoFeeModeManage {"FollowFuel": 0.01, "CombustionFlag": 1, "VmCostFlag": 2, "VmCostConversionRate": 100, "StorageConversionRate": 100, "StorageFlag": 2, "ExpediteFlag": 1}\n'})}),"\n",(0,a.jsx)(n.p,{children:"O\xf9 les champs de param\xe8tres du contrat sont d\xe9finis comme suit :"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Le param\xe8tre ",(0,a.jsx)(n.code,{children:"FollowFuel"})," est un multiple du taux d'\xe9co-suivi 1."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"CombustionFlag"})," indique s'il faut activer la combustion des frais de gaz\nd'\xe9co-\xe9change, 1 - non, 2 - oui."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"CombustionPercent"})," est le pourcentage de combustion, uniquement valable\nlorsque la combustion des frais de gaz est activ\xe9e, prend des valeurs de 1 \xe0\n100, 0 lorsque ce n'est pas activ\xe9."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"VmCostFlag"})," est le drapeau des co\xfbts de VM, d\xe9finissant le paiement direct ou\npar procuration, 1 - paiement direct, 2 - paiement par procuration."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"StorageFlag"})," est le drapeau des frais de stockage, d\xe9finissant le paiement\ndirect ou par procuration, 1 - paiement direct, 2 - paiement par procuration."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ExpediteFlag"})," est le drapeau des frais d'exp\xe9dition acc\xe9l\xe9r\xe9e, d\xe9finissant le\npaiement direct ou par procuration, 1 - paiement direct, 2 - paiement par\nprocuration."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"VmCostConversionRate"})," est le taux de conversion des co\xfbts de la machine\nvirtuelle, avec 2 d\xe9cimales, uniquement valable pour les paiements par\nprocuration, sup\xe9rieur \xe0 z\xe9ro."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"StorageConversionRate"})," est le taux de conversion des co\xfbts de stockage, avec\n2 d\xe9cimales, uniquement valable pour les paiements par procuration, sup\xe9rieur\n\xe0 z\xe9ro."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Si vous utilisez les param\xe8tres ci-dessus, tous les frais de transaction\nencourus par les utilisateurs invoquant des contrats au sein de l'\xe9cosyst\xe8me\nseront pay\xe9s par le portefeuille \xe9cologique de la configuration \xe9cologique\nactuelle."}),"\n",(0,a.jsx)(n.p,{children:"Tous les utilisateurs n'ont besoin de payer que les frais de gaz encourus au\nsein de l'\xe9cosyst\xe8me. Bien s\xfbr, vous pouvez ajuster les param\xe8tres de co\xfbt selon\nvos besoins r\xe9els."}),"\n",(0,a.jsx)(n.h3,{id:"dao-governance-ecosystem",children:"\xc9cosyst\xe8me de gouvernance DAO"}),"\n",(0,a.jsx)(n.p,{children:"Avant de modifier vers un \xe9cosyst\xe8me de gouvernance DAO, vous devez vous assurer\nque l'\xe9cosyst\xe8me actuel a \xe9mis des jetons, et apr\xe8s la modification vers un\n\xe9cosyst\xe8me de gouvernance DAO, toutes les propositions de l'\xe9cosyst\xe8me seront\nsoumises au vote des membres du comit\xe9 de gouvernance."}),"\n",(0,a.jsx)(n.p,{children:"Le Conseil de gouvernance DAO n'est plus g\xe9r\xe9 uniquement par les d\xe9veloppeurs de\nl'\xe9cosyst\xe8me, mais les 50 principaux repr\xe9sentants des d\xe9tenteurs de\nl'\xe9cosyst\xe8me sont \xe9lus."}),"\n",(0,a.jsxs)(n.p,{children:["Call the ",(0,a.jsx)(n.code,{children:"@1EditControlMode"})," contract to change the eco governance mode to DAO\ngovernance mode."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1EditControlMode {"Value": 2}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["O\xf9 le param\xe8tre ",(0,a.jsx)(n.code,{children:"Value"})," ",(0,a.jsx)(n.code,{children:"1"})," repr\xe9sente le mod\xe8le du cr\xe9ateur et ",(0,a.jsx)(n.code,{children:"2"})," repr\xe9sente\nle mod\xe8le de gouvernance DAO."]}),"\n",(0,a.jsx)(n.p,{children:"Nous pouvons essayer de cr\xe9er une application."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'>callContract @1NewApplication {"Name": "testApp", "Conditions": "ContractConditions(\\"@1DeveloperCondition\\")"}\n'})}),"\n",(0,a.jsx)(n.p,{children:"\xc0 ce stade, une proposition de gouvernance DAO est g\xe9n\xe9r\xe9e et vot\xe9e par le\nConseil de gouvernance de la DAO avant la cr\xe9ation de l'application. Une\nproposition valide n\xe9cessite un taux d'approbation de 68% sur 75% des votes\nexprim\xe9s."}),"\n",(0,a.jsx)(n.p,{children:"Le champ d'application de la gouvernance DAO comprend :"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Ajouter, supprimer et modifier des applications, des contrats, des pages, des\nextraits de code, des onglets, des menus, des param\xe8tres d'application, des\ntables de donn\xe9es et des champs."}),"\n",(0,a.jsx)(n.li,{children:"Modifier le multilingue."}),"\n",(0,a.jsx)(n.li,{children:"Changer le mod\xe8le de DAO et de cr\xe9ateur."}),"\n",(0,a.jsx)(n.li,{children:"Modifier les param\xe8tres \xe9cologiques."}),"\n",(0,a.jsx)(n.li,{children:"R\xf4le, assigner ou supprimer des membres de r\xf4le."}),"\n",(0,a.jsx)(n.li,{children:"\xc9mettre une monnaie de destruction suppl\xe9mentaire."}),"\n",(0,a.jsx)(n.li,{children:"Modifier les param\xe8tres de la plateforme."}),"\n",(0,a.jsx)(n.li,{children:"Modifier les informations \xe9cologiques."}),"\n",(0,a.jsx)(n.li,{children:"Modification des contrats diff\xe9r\xe9s."}),"\n",(0,a.jsx)(n.li,{children:"Modifier le mod\xe8le de vote."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"deploy-applications-using-application-packaging-tool",children:"D\xe9ployer des applications \xe0 l'aide d'un outil d'emballage d'applications"}),"\n",(0,a.jsxs)(n.p,{children:["Avant de commencer ce tutoriel, vous devez t\xe9l\xe9charger\n",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/app-tool",children:"Outil de conditionnement d'application IBAX"}),".\nNous devons utiliser cet outil pour empaqueter l'application IBAX."]}),"\n",(0,a.jsx)(n.p,{children:"Nous devons stocker les fichiers de l'application selon la structure de\nr\xe9pertoire suivante :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"- APP Name\n    - app_params\n        params1.csv\n        params2.csv\n        ...\n    - contracts\n        contract1.sim\n        contract2.sim\n        ...\n    - tables\n        tableName1.json\n        tableName2.json\n        ...\n    config.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Comme indiqu\xe9 ci-dessous:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"airdrop$ ls *\nconfig.json\n\napp_params:\ndedicated_account.csv  lock_percent.csv  per_period_sec.csv  period_count.csv\n\ncontracts:\nAddAirdrop.sim  ClaimAirdrop.sim  SpeedAirdrop.sim\n\ntables:\nairdrop_info.json\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Le r\xe9pertoire ",(0,a.jsx)(n.code,{children:"app_params"})," stocke le fichier des param\xe8tres de l'application,\nnomm\xe9 en utilisant le nom du param\xe8tre + le format de fichier ",(0,a.jsx)(n.code,{children:".csv"}),", le contenu\ndu fichier \xe9tant la valeur du param\xe8tre."]}),"\n",(0,a.jsxs)(n.p,{children:["Le r\xe9pertoire ",(0,a.jsx)(n.code,{children:"contracts"})," contient les contrats, au format de fichier ",(0,a.jsx)(n.code,{children:".sim"}),", et\nle contenu du fichier est le code source du contrat."]}),"\n",(0,a.jsxs)(n.p,{children:["Le r\xe9pertoire ",(0,a.jsx)(n.code,{children:"tables"})," contient la structure de la table de donn\xe9es de\nl'application au format de fichier ",(0,a.jsx)(n.code,{children:"json"}),", comme suit:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "account",\n    "conditions": "{\\"read\\": \\"true\\", \\"update\\": \\"ContractConditions(\\"MainCondition\\")\\"}",\n    "type": "varchar"\n  },\n  { "name": "balance_amount", "conditions": "true", "type": "money" },\n  { "name": "stake_amount", "conditions": "true", "type": "money" },\n  { "name": "surplus", "conditions": "true", "type": "number" },\n  { "name": "total_amount", "conditions": "true", "type": "money" }\n]\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"name"})," est le nom du champ du tableau de donn\xe9es, ",(0,a.jsx)(n.code,{children:"conditions"})," est la permission\ndu champ du tableau de donn\xe9es, et ",(0,a.jsx)(n.code,{children:"type"})," est le type de champ."]}),"\n",(0,a.jsx)(n.p,{children:"\xc0 l'\xe9tape 1, nous g\xe9n\xe9rons un fichier config.json et le sauvegardons dans le\nr\xe9pertoire airdrop avec le contenu suivant :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'{\n    "name": "Airdrop",\n    "conditions": "ContractConditions(\\"@1MainCondition\\")"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["L\xe0 o\xf9 ",(0,a.jsx)(n.code,{children:"name"})," est le nom de l'application, ",(0,a.jsx)(n.code,{children:"conditions"})," : est l'autorisation de\nmodifier l'application, puis l'enregistrer dans le r\xe9pertoire airdrop."]}),"\n",(0,a.jsxs)(n.p,{children:["\xc9tape 2, empaquetez l'application, la commande suivante g\xe9n\xe9rera l'application\n",(0,a.jsx)(n.code,{children:"airdrop.json"})," dans le r\xe9pertoire actuel. Si vous modifiez le contrat ou les\nparam\xe8tres de l'application, vous devez reconditionner l'application."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ ./app-tool airdrop/\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Nous pouvons importer l'application via l'outil en ligne de commande\n",(0,a.jsx)(n.a,{href:"https://github.com/IBAX-io/ibax-cli",children:"command line tool"})," comme suit :"]}),"\n",(0,a.jsxs)(n.p,{children:["Utilisez la commande ",(0,a.jsx)(n.code,{children:"import"})," pour importer une application, avec le param\xe8tre\n",(0,a.jsx)(n.code,{children:"-f"})," pour sp\xe9cifier le fichier d'application \xe0 importer."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ ibax-cli console\n\nWelcome to the IBAX console!\nTo exit, press ctrl-d or type exit\n\n>import -f ./airdrop.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Bien s\xfbr, si vous avez une application, vous pouvez \xe9galement g\xe9n\xe9rer la\nstructure compl\xe8te du r\xe9pertoire avec la commande suivante:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ app-tool.exe airdrop.json\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},4963:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/ibax-eco-3e92fa8716c19357067ad1d6f7249b49.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var a=s(6540);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);